/* unattended-installer.c generated by valac 0.35.3.8-bc5b, the Vala compiler
 * generated from unattended-installer.vala, do not modify */

/* This file is part of GNOME Boxes. License: LGPLv2+*/

#include <glib.h>
#include <glib-object.h>
#include <libvirt-gconfig/libvirt-gconfig.h>
#include <gio/gio.h>
#include <libcommon.h>
#include <stdlib.h>
#include <string.h>
#include <gtk/gtk.h>
#include <osinfo/osinfo.h>
#include <glib/gi18n-lib.h>
#include <libgd/gd.h>
#include <glib/gstdio.h>
#include <float.h>
#include <math.h>


#define BOXES_TYPE_INSTALLER_MEDIA (boxes_installer_media_get_type ())
#define BOXES_INSTALLER_MEDIA(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMedia))
#define BOXES_INSTALLER_MEDIA_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMediaClass))
#define BOXES_IS_INSTALLER_MEDIA(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_INSTALLER_MEDIA))
#define BOXES_IS_INSTALLER_MEDIA_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_INSTALLER_MEDIA))
#define BOXES_INSTALLER_MEDIA_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMediaClass))

typedef struct _BoxesInstallerMedia BoxesInstallerMedia;
typedef struct _BoxesInstallerMediaClass BoxesInstallerMediaClass;
typedef struct _BoxesInstallerMediaPrivate BoxesInstallerMediaPrivate;

#define BOXES_TYPE_VM_CREATOR (boxes_vm_creator_get_type ())
#define BOXES_VM_CREATOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_VM_CREATOR, BoxesVMCreator))
#define BOXES_VM_CREATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_VM_CREATOR, BoxesVMCreatorClass))
#define BOXES_IS_VM_CREATOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_VM_CREATOR))
#define BOXES_IS_VM_CREATOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_VM_CREATOR))
#define BOXES_VM_CREATOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_VM_CREATOR, BoxesVMCreatorClass))

typedef struct _BoxesVMCreator BoxesVMCreator;
typedef struct _BoxesVMCreatorClass BoxesVMCreatorClass;

#define BOXES_TYPE_UNATTENDED_INSTALLER (boxes_unattended_installer_get_type ())
#define BOXES_UNATTENDED_INSTALLER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_UNATTENDED_INSTALLER, BoxesUnattendedInstaller))
#define BOXES_UNATTENDED_INSTALLER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_UNATTENDED_INSTALLER, BoxesUnattendedInstallerClass))
#define BOXES_IS_UNATTENDED_INSTALLER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_UNATTENDED_INSTALLER))
#define BOXES_IS_UNATTENDED_INSTALLER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_UNATTENDED_INSTALLER))
#define BOXES_UNATTENDED_INSTALLER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_UNATTENDED_INSTALLER, BoxesUnattendedInstallerClass))

typedef struct _BoxesUnattendedInstaller BoxesUnattendedInstaller;
typedef struct _BoxesUnattendedInstallerClass BoxesUnattendedInstallerClass;
typedef struct _BoxesUnattendedInstallerPrivate BoxesUnattendedInstallerPrivate;

#define BOXES_TYPE_UNATTENDED_SETUP_BOX (boxes_unattended_setup_box_get_type ())
#define BOXES_UNATTENDED_SETUP_BOX(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_UNATTENDED_SETUP_BOX, BoxesUnattendedSetupBox))
#define BOXES_UNATTENDED_SETUP_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_UNATTENDED_SETUP_BOX, BoxesUnattendedSetupBoxClass))
#define BOXES_IS_UNATTENDED_SETUP_BOX(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_UNATTENDED_SETUP_BOX))
#define BOXES_IS_UNATTENDED_SETUP_BOX_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_UNATTENDED_SETUP_BOX))
#define BOXES_UNATTENDED_SETUP_BOX_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_UNATTENDED_SETUP_BOX, BoxesUnattendedSetupBoxClass))

typedef struct _BoxesUnattendedSetupBox BoxesUnattendedSetupBox;
typedef struct _BoxesUnattendedSetupBoxClass BoxesUnattendedSetupBoxClass;

#define BOXES_TYPE_UNATTENDED_FILE (boxes_unattended_file_get_type ())
#define BOXES_UNATTENDED_FILE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_UNATTENDED_FILE, BoxesUnattendedFile))
#define BOXES_IS_UNATTENDED_FILE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_UNATTENDED_FILE))
#define BOXES_UNATTENDED_FILE_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), BOXES_TYPE_UNATTENDED_FILE, BoxesUnattendedFileIface))

typedef struct _BoxesUnattendedFile BoxesUnattendedFile;
typedef struct _BoxesUnattendedFileIface BoxesUnattendedFileIface;

#define BOXES_TYPE_UNATTENDED_AVATAR_FILE (boxes_unattended_avatar_file_get_type ())
#define BOXES_UNATTENDED_AVATAR_FILE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_UNATTENDED_AVATAR_FILE, BoxesUnattendedAvatarFile))
#define BOXES_UNATTENDED_AVATAR_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_UNATTENDED_AVATAR_FILE, BoxesUnattendedAvatarFileClass))
#define BOXES_IS_UNATTENDED_AVATAR_FILE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_UNATTENDED_AVATAR_FILE))
#define BOXES_IS_UNATTENDED_AVATAR_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_UNATTENDED_AVATAR_FILE))
#define BOXES_UNATTENDED_AVATAR_FILE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_UNATTENDED_AVATAR_FILE, BoxesUnattendedAvatarFileClass))

typedef struct _BoxesUnattendedAvatarFile BoxesUnattendedAvatarFile;
typedef struct _BoxesUnattendedAvatarFileClass BoxesUnattendedAvatarFileClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define BOXES_TYPE_UNATTENDED_SCRIPT_FILE (boxes_unattended_script_file_get_type ())
#define BOXES_UNATTENDED_SCRIPT_FILE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_UNATTENDED_SCRIPT_FILE, BoxesUnattendedScriptFile))
#define BOXES_UNATTENDED_SCRIPT_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_UNATTENDED_SCRIPT_FILE, BoxesUnattendedScriptFileClass))
#define BOXES_IS_UNATTENDED_SCRIPT_FILE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_UNATTENDED_SCRIPT_FILE))
#define BOXES_IS_UNATTENDED_SCRIPT_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_UNATTENDED_SCRIPT_FILE))
#define BOXES_UNATTENDED_SCRIPT_FILE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_UNATTENDED_SCRIPT_FILE, BoxesUnattendedScriptFileClass))

typedef struct _BoxesUnattendedScriptFile BoxesUnattendedScriptFile;
typedef struct _BoxesUnattendedScriptFileClass BoxesUnattendedScriptFileClass;
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))

#define BOXES_TYPE_ISO_EXTRACTOR (boxes_iso_extractor_get_type ())
#define BOXES_ISO_EXTRACTOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_ISO_EXTRACTOR, BoxesISOExtractor))
#define BOXES_ISO_EXTRACTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_ISO_EXTRACTOR, BoxesISOExtractorClass))
#define BOXES_IS_ISO_EXTRACTOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_ISO_EXTRACTOR))
#define BOXES_IS_ISO_EXTRACTOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_ISO_EXTRACTOR))
#define BOXES_ISO_EXTRACTOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_ISO_EXTRACTOR, BoxesISOExtractorClass))

typedef struct _BoxesISOExtractor BoxesISOExtractor;
typedef struct _BoxesISOExtractorClass BoxesISOExtractorClass;

#define BOXES_TYPE_APP (boxes_app_get_type ())
#define BOXES_APP(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_APP, BoxesApp))
#define BOXES_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_APP, BoxesAppClass))
#define BOXES_IS_APP(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_APP))
#define BOXES_IS_APP_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_APP))
#define BOXES_APP_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_APP, BoxesAppClass))

typedef struct _BoxesApp BoxesApp;
typedef struct _BoxesAppClass BoxesAppClass;

#define BOXES_TYPE_APP_WINDOW (boxes_app_window_get_type ())
#define BOXES_APP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_APP_WINDOW, BoxesAppWindow))
#define BOXES_APP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_APP_WINDOW, BoxesAppWindowClass))
#define BOXES_IS_APP_WINDOW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_APP_WINDOW))
#define BOXES_IS_APP_WINDOW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_APP_WINDOW))
#define BOXES_APP_WINDOW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_APP_WINDOW, BoxesAppWindowClass))

typedef struct _BoxesAppWindow BoxesAppWindow;
typedef struct _BoxesAppWindowClass BoxesAppWindowClass;

#define BOXES_TYPE_NOTIFICATIONBAR (boxes_notificationbar_get_type ())
#define BOXES_NOTIFICATIONBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_NOTIFICATIONBAR, BoxesNotificationbar))
#define BOXES_NOTIFICATIONBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_NOTIFICATIONBAR, BoxesNotificationbarClass))
#define BOXES_IS_NOTIFICATIONBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_NOTIFICATIONBAR))
#define BOXES_IS_NOTIFICATIONBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_NOTIFICATIONBAR))
#define BOXES_NOTIFICATIONBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_NOTIFICATIONBAR, BoxesNotificationbarClass))

typedef struct _BoxesNotificationbar BoxesNotificationbar;
typedef struct _BoxesNotificationbarClass BoxesNotificationbarClass;
typedef struct _BoxesUnattendedInstallerPrepareForInstallationData BoxesUnattendedInstallerPrepareForInstallationData;
#define __g_list_free__boxes_pair_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__boxes_pair_unref0_ (var), NULL)))
typedef struct _BoxesUnattendedInstallerPrepareData BoxesUnattendedInstallerPrepareData;
typedef struct _BoxesUnattendedInstallerCreateDiskImageData BoxesUnattendedInstallerCreateDiskImageData;
typedef struct _BoxesUnattendedInstallerFetchUserAvatarData BoxesUnattendedInstallerFetchUserAvatarData;
typedef struct _BoxesUnattendedInstallerExtractBootFilesData BoxesUnattendedInstallerExtractBootFilesData;
typedef struct _BoxesUnattendedInstallerSetupDriversData BoxesUnattendedInstallerSetupDriversData;
typedef struct _BoxesUnattendedInstallerSetupDriversFromListData BoxesUnattendedInstallerSetupDriversFromListData;

#define BOXES_TYPE_DOWNLOADER (boxes_downloader_get_type ())
#define BOXES_DOWNLOADER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_DOWNLOADER, BoxesDownloader))
#define BOXES_DOWNLOADER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_DOWNLOADER, BoxesDownloaderClass))
#define BOXES_IS_DOWNLOADER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_DOWNLOADER))
#define BOXES_IS_DOWNLOADER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_DOWNLOADER))
#define BOXES_DOWNLOADER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_DOWNLOADER, BoxesDownloaderClass))

typedef struct _BoxesDownloader BoxesDownloader;
typedef struct _BoxesDownloaderClass BoxesDownloaderClass;

#define BOXES_TYPE_UNATTENDED_RAW_FILE (boxes_unattended_raw_file_get_type ())
#define BOXES_UNATTENDED_RAW_FILE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), BOXES_TYPE_UNATTENDED_RAW_FILE, BoxesUnattendedRawFile))
#define BOXES_UNATTENDED_RAW_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), BOXES_TYPE_UNATTENDED_RAW_FILE, BoxesUnattendedRawFileClass))
#define BOXES_IS_UNATTENDED_RAW_FILE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), BOXES_TYPE_UNATTENDED_RAW_FILE))
#define BOXES_IS_UNATTENDED_RAW_FILE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), BOXES_TYPE_UNATTENDED_RAW_FILE))
#define BOXES_UNATTENDED_RAW_FILE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), BOXES_TYPE_UNATTENDED_RAW_FILE, BoxesUnattendedRawFileClass))

typedef struct _BoxesUnattendedRawFile BoxesUnattendedRawFile;
typedef struct _BoxesUnattendedRawFileClass BoxesUnattendedRawFileClass;
typedef struct _BoxesUnattendedInstallerSetupDriverData BoxesUnattendedInstallerSetupDriverData;
typedef struct _Block82Data Block82Data;

#define BOXES_TYPE_CPU_ARCH_COMPATIBILITY (boxes_cpu_arch_compatibility_get_type ())
#define _g_hash_table_unref0(var) ((var == NULL) ? NULL : (var = (g_hash_table_unref (var), NULL)))

struct _BoxesInstallerMedia {
	GObject parent_instance;
	BoxesInstallerMediaPrivate * priv;
	OsinfoOs* os;
	OsinfoResources* resources;
	OsinfoMedia* os_media;
	gchar* label;
	gchar* device_file;
	gchar* mount_point;
	gboolean from_image;
};

struct _BoxesInstallerMediaClass {
	GObjectClass parent_class;
	void (*set_direct_boot_params) (BoxesInstallerMedia* self, GVirConfigDomainOs* os);
	void (*prepare) (BoxesInstallerMedia* self, BoxesActivityProgress* progress, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
	gboolean (*prepare_finish) (BoxesInstallerMedia* self, GAsyncResult* _res_);
	void (*prepare_for_installation) (BoxesInstallerMedia* self, const gchar* vm_name, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
	void (*prepare_for_installation_finish) (BoxesInstallerMedia* self, GAsyncResult* _res_);
	void (*prepare_to_continue_installation) (BoxesInstallerMedia* self, const gchar* vm_name);
	void (*clean_up) (BoxesInstallerMedia* self);
	void (*clean_up_preparation_cache) (BoxesInstallerMedia* self);
	void (*setup_domain_config) (BoxesInstallerMedia* self, GVirConfigDomain* domain);
	void (*setup_post_install_domain_config) (BoxesInstallerMedia* self, GVirConfigDomain* domain);
	void (*populate_setup_box) (BoxesInstallerMedia* self, GtkBox* setup_box);
	GList* (*get_vm_properties) (BoxesInstallerMedia* self);
	BoxesVMCreator* (*get_vm_creator) (BoxesInstallerMedia* self);
	OsinfoDeviceList* (*get_supported_devices) (BoxesInstallerMedia* self);
	guint64 (*get_installed_size) (BoxesInstallerMedia* self);
	gboolean (*get_need_user_input_for_vm_creation) (BoxesInstallerMedia* self);
	gboolean (*get_ready_to_create) (BoxesInstallerMedia* self);
	gboolean (*get_live) (BoxesInstallerMedia* self);
	gchar* (*get_architecture) (BoxesInstallerMedia* self);
};

struct _BoxesUnattendedInstaller {
	BoxesInstallerMedia parent_instance;
	BoxesUnattendedInstallerPrivate * priv;
	BoxesUnattendedSetupBox* setup_box;
	GFile* disk_file;
	GFile* secondary_disk_file;
	GFile* kernel_file;
	GFile* initrd_file;
	OsinfoInstallConfig* config;
	OsinfoInstallScriptList* scripts;
};

struct _BoxesUnattendedInstallerClass {
	BoxesInstallerMediaClass parent_class;
};

struct _BoxesUnattendedFileIface {
	GTypeInterface parent_iface;
	void (*get_source_file) (BoxesUnattendedFile* self, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
	GFile* (*get_source_file_finish) (BoxesUnattendedFile* self, GAsyncResult* _res_, GError** error);
	const gchar* (*get_src_path) (BoxesUnattendedFile* self);
	void (*set_src_path) (BoxesUnattendedFile* self, const gchar* value);
	const gchar* (*get_dest_name) (BoxesUnattendedFile* self);
	void (*set_dest_name) (BoxesUnattendedFile* self, const gchar* value);
	gchar* (*get_disk_file) (BoxesUnattendedFile* self);
	BoxesUnattendedInstaller* (*get_installer) (BoxesUnattendedFile* self);
	void (*set_installer) (BoxesUnattendedFile* self, BoxesUnattendedInstaller* value);
};

struct _BoxesUnattendedInstallerPrivate {
	GList* unattended_files;
	GList* secondary_unattended_files;
	BoxesUnattendedAvatarFile* avatar_file;
	gchar* timezone;
	gchar* lang;
	gchar* hostname;
	gchar* kbd;
	gboolean driver_signing;
	OsinfoDeviceList* additional_devices;
};

struct _BoxesUnattendedInstallerPrepareForInstallationData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	gchar* vm_name;
	GCancellable* cancellable;
	BoxesUnattendedSetupBox* _tmp0_;
	BoxesUnattendedSetupBox* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	const gchar* _tmp4_;
	GCancellable* _tmp5_;
	gboolean _tmp6_;
	OsinfoMedia* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	gchar* _tmp10_;
	gboolean _tmp11_;
	OsinfoMedia* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gchar* _tmp15_;
	BoxesISOExtractor* extractor;
	const gchar* _tmp16_;
	BoxesISOExtractor* _tmp17_;
	BoxesISOExtractor* _tmp18_;
	GCancellable* _tmp19_;
	GList* _tmp20_;
	GList* unattended_file_collection;
	GList* unattended_file_it;
	BoxesUnattendedFile* _tmp21_;
	BoxesUnattendedFile* unattended_file;
	BoxesUnattendedFile* _tmp22_;
	GCancellable* _tmp23_;
	GFile* _tmp24_;
	gchar* secondary_disk_path;
	GFile* _tmp25_;
	gchar* _tmp26_;
	const gchar* _tmp27_;
	gchar** argv;
	gchar* _tmp28_;
	gchar* _tmp29_;
	gchar* _tmp30_;
	gchar* _tmp31_;
	gchar* _tmp32_;
	const gchar* _tmp33_;
	gchar* _tmp34_;
	gchar** _tmp35_;
	gint argv_length1;
	gint _argv_size_;
	GList* _tmp36_;
	GList* _vala1_unattended_file_collection;
	GList* _vala1_unattended_file_it;
	BoxesUnattendedFile* _tmp37_;
	BoxesUnattendedFile* _vala1_unattended_file;
	gchar* dest_path;
	BoxesUnattendedFile* _tmp38_;
	const gchar* _tmp39_;
	const gchar* _tmp40_;
	gchar* _tmp41_;
	gchar* src_path;
	BoxesUnattendedFile* _tmp42_;
	const gchar* _tmp43_;
	const gchar* _tmp44_;
	gchar* _tmp45_;
	gchar** _tmp46_;
	gint _tmp46__length1;
	const gchar* _tmp47_;
	gchar* _tmp48_;
	gchar* _tmp49_;
	const gchar* _tmp50_;
	gchar* _tmp51_;
	gchar** _tmp52_;
	gint _tmp52__length1;
	GCancellable* _tmp53_;
	const gchar* _tmp54_;
	GError* _error_;
	BoxesUnattendedSetupBox* _tmp55_;
	gchar* msg;
	gchar* _tmp56_;
	BoxesApp* _tmp57_;
	BoxesAppWindow* _tmp58_;
	BoxesAppWindow* _tmp59_;
	BoxesNotificationbar* _tmp60_;
	BoxesNotificationbar* _tmp61_;
	const gchar* _tmp62_;
	GdNotification* _tmp63_;
	GdNotification* _tmp64_;
	GError* _tmp65_;
	const gchar* _tmp66_;
	GError * _inner_error_;
};

struct _BoxesUnattendedInstallerPrepareData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	BoxesActivityProgress* progress;
	GCancellable* cancellable;
	gboolean result;
	BoxesActivityProgress* _tmp0_;
	GCancellable* _tmp1_;
	gboolean _tmp2_;
};

struct _BoxesUnattendedInstallerCreateDiskImageData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	GCancellable* cancellable;
	gchar* template_path;
	gchar* _tmp0_;
	GFile* template_file;
	GFile* _tmp1_;
	GFile* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	GFile* _tmp5_;
	GCancellable* _tmp6_;
	GFile* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	GError * _inner_error_;
};

struct _BoxesUnattendedInstallerFetchUserAvatarData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	BoxesFdoAccounts* _tmp0_;
	gchar* username;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* avatar_path;
	const gchar* _tmp3_;
	gchar* _tmp4_;
	gchar* path;
	BoxesFdoAccounts* _tmp5_;
	const gchar* _tmp6_;
	gchar* _tmp7_;
	BoxesFdoAccountsUser* user;
	const gchar* _tmp8_;
	BoxesFdoAccountsUser* _tmp9_;
	BoxesFdoAccountsUser* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	GError* _error_;
	const gchar* _tmp13_;
	GError* _tmp14_;
	const gchar* _tmp15_;
	const gchar* _tmp16_;
	gboolean _tmp17_;
	BoxesUnattendedSetupBox* _tmp18_;
	const gchar* _tmp19_;
	OsinfoAvatarFormat* avatar_format;
	OsinfoInstallScriptList* _tmp20_;
	GList* _tmp21_;
	GList* s_collection;
	GList* s_it;
	OsinfoEntity* s;
	OsinfoInstallScript* script;
	OsinfoEntity* _tmp22_;
	OsinfoInstallScript* _tmp23_;
	OsinfoInstallScript* _tmp24_;
	OsinfoAvatarFormat* _tmp25_;
	OsinfoAvatarFormat* _tmp26_;
	OsinfoAvatarFormat* _tmp27_;
	OsinfoAvatarFormat* _tmp28_;
	BoxesUnattendedAvatarFile* _tmp29_;
	const gchar* _tmp30_;
	OsinfoAvatarFormat* _tmp31_;
	BoxesUnattendedAvatarFile* _tmp32_;
	BoxesUnattendedAvatarFile* _tmp33_;
	BoxesUnattendedAvatarFile* _tmp34_;
	GError* _vala1__error_;
	const gchar* _tmp35_;
	GError* _tmp36_;
	const gchar* _tmp37_;
	GError * _inner_error_;
};

struct _BoxesUnattendedInstallerExtractBootFilesData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	BoxesISOExtractor* extractor;
	GCancellable* cancellable;
	BoxesISOExtractor* _tmp0_;
	OsinfoMedia* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
	GFile* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	GCancellable* _tmp8_;
	BoxesISOExtractor* _tmp9_;
	OsinfoMedia* _tmp10_;
	gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	GFile* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	GCancellable* _tmp17_;
	GError * _inner_error_;
};

typedef void (*BoxesUnattendedInstallerAddUnattendedFileFunc) (BoxesUnattendedFile* file, void* user_data);
struct _BoxesUnattendedInstallerSetupDriversData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	BoxesActivityProgress* progress;
	GCancellable* cancellable;
	gboolean result;
	BoxesActivityProgress* _tmp0_;
	GList* scripts;
	GList* _tmp1_;
	GList* drivers;
	GList* _tmp2_;
	GList* _tmp3_;
	gboolean _tmp4_;
	GList* _tmp5_;
	guint _tmp6_;
	GList* _tmp7_;
	guint _tmp8_;
	BoxesActivityProgress* drivers_progress;
	BoxesActivityProgress* _tmp9_;
	BoxesActivityProgress* _tmp10_;
	GList* _tmp11_;
	BoxesActivityProgress* _tmp12_;
	GCancellable* _tmp13_;
	gboolean _tmp14_;
	BoxesActivityProgress* _tmp15_;
	GList* _tmp16_;
	GList* _tmp17_;
	GList* _tmp18_;
	gboolean _tmp19_;
	GList* _tmp20_;
	guint _tmp21_;
	GList* _tmp22_;
	guint _tmp23_;
	BoxesActivityProgress* _vala1_drivers_progress;
	BoxesActivityProgress* _tmp24_;
	BoxesActivityProgress* _tmp25_;
	GList* _tmp26_;
	BoxesActivityProgress* _tmp27_;
	GCancellable* _tmp28_;
	gboolean _tmp29_;
	BoxesActivityProgress* _tmp30_;
};

struct _BoxesUnattendedInstallerSetupDriversFromListData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	GList* drivers;
	BoxesActivityProgress* progress;
	BoxesUnattendedInstallerAddUnattendedFileFunc add_func;
	gpointer add_func_target;
	GCancellable* cancellable;
	gboolean result;
	gdouble driver_progress_scale;
	GList* _tmp0_;
	guint _tmp1_;
	GList* _tmp2_;
	GList* driver_collection;
	GList* driver_it;
	OsinfoDeviceDriver* _tmp3_;
	OsinfoDeviceDriver* driver;
	BoxesActivityProgress* driver_progress;
	BoxesActivityProgress* _tmp4_;
	gdouble _tmp5_;
	BoxesActivityProgress* _tmp6_;
	OsinfoDeviceDriver* _tmp7_;
	BoxesActivityProgress* _tmp8_;
	BoxesUnattendedInstallerAddUnattendedFileFunc _tmp9_;
	void* _tmp9__target;
	GCancellable* _tmp10_;
	OsinfoDeviceList* _tmp11_;
	OsinfoDeviceDriver* _tmp12_;
	OsinfoDeviceList* _tmp13_;
	GError* e;
	BoxesActivityProgress* _tmp14_;
	GError* _vala1_e;
	OsinfoDeviceDriver* _tmp15_;
	const gchar* _tmp16_;
	GError* _tmp17_;
	const gchar* _tmp18_;
	BoxesActivityProgress* _tmp19_;
	GError * _inner_error_;
};

struct _BoxesUnattendedInstallerSetupDriverData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	gboolean _task_complete_;
	BoxesUnattendedInstaller* self;
	OsinfoDeviceDriver* driver;
	BoxesActivityProgress* progress;
	BoxesUnattendedInstallerAddUnattendedFileFunc add_func;
	gpointer add_func_target;
	GCancellable* cancellable;
	BoxesDownloader* downloader;
	BoxesDownloader* _tmp0_;
	GList* driver_files;
	gchar* location;
	OsinfoDeviceDriver* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* location_checksum;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	GList* files;
	OsinfoDeviceDriver* _tmp6_;
	GList* _tmp7_;
	gdouble file_progress_scale;
	GList* _tmp8_;
	guint _tmp9_;
	GList* _tmp10_;
	GList* filename_collection;
	GList* filename_it;
	const gchar* filename;
	gchar* file_uri;
	const gchar* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	const gchar* _tmp14_;
	gchar* _tmp15_;
	gchar* _tmp16_;
	GFile* file;
	const gchar* _tmp17_;
	GFile* _tmp18_;
	gchar* driver_file_name;
	const gchar* _tmp19_;
	gchar* _tmp20_;
	gchar* _tmp21_;
	GFile* _tmp22_;
	gchar* _tmp23_;
	gchar* _tmp24_;
	gchar* _tmp25_;
	gchar* _tmp26_;
	gchar* cached_path;
	const gchar* _tmp27_;
	gchar* _tmp28_;
	gchar* system_cached_path;
	const gchar* _tmp29_;
	gchar* _tmp30_;
	gchar** cached_paths;
	const gchar* _tmp31_;
	gchar* _tmp32_;
	gchar** _tmp33_;
	gint cached_paths_length1;
	gint _cached_paths_size_;
	const gchar* _tmp34_;
	gchar** _tmp35_;
	gint _tmp35__length1;
	const gchar* _tmp36_;
	gchar* _tmp37_;
	BoxesActivityProgress* file_progress;
	BoxesActivityProgress* _tmp38_;
	gdouble _tmp39_;
	BoxesActivityProgress* _tmp40_;
	GFile* _tmp41_;
	BoxesDownloader* _tmp42_;
	GFile* _tmp43_;
	gchar** _tmp44_;
	gint _tmp44__length1;
	BoxesActivityProgress* _tmp45_;
	GCancellable* _tmp46_;
	GFile* _tmp47_;
	GFile* _tmp48_;
	BoxesActivityProgress* _tmp49_;
	GFile* _tmp50_;
	gchar* _tmp51_;
	gchar* _tmp52_;
	const gchar* _tmp53_;
	BoxesUnattendedRawFile* _tmp54_;
	GList* _tmp55_;
	GList* driver_file_collection;
	GList* driver_file_it;
	BoxesUnattendedFile* _tmp56_;
	BoxesUnattendedFile* driver_file;
	BoxesUnattendedInstallerAddUnattendedFileFunc _tmp57_;
	void* _tmp57__target;
	BoxesUnattendedFile* _tmp58_;
	GError * _inner_error_;
};

typedef gboolean (*BoxesUnattendedInstallerDriverInstallableFunc) (OsinfoDeviceDriver* driver, void* user_data);
typedef OsinfoDeviceDriverSigningReq (*BoxesUnattendedInstallerScriptDriverSigningReqFunc) (OsinfoInstallScript* script, void* user_data);
struct _Block82Data {
	int _ref_count_;
	BoxesUnattendedInstaller* self;
	gboolean signing_required;
	gboolean driver_signing_mutable;
	BoxesUnattendedInstallerDriverInstallableFunc installable_func;
	gpointer installable_func_target;
};

typedef gboolean (*BoxesUnattendedInstallerDriverTestFunction) (OsinfoDeviceDriver* driver, void* user_data);
typedef enum  {
	BOXES_CPU_ARCH_COMPATIBILITY_INCOMPATIBLE = -1,
	BOXES_CPU_ARCH_COMPATIBILITY_IDENTICAL = 0,
	BOXES_CPU_ARCH_COMPATIBILITY_COMPATIBLE = 1,
	BOXES_CPU_ARCH_COMPATIBILITY_COMPATIBLE_DIFF_WORDSIZE = 2
} BoxesCPUArchCompatibility;

typedef gboolean (*BoxesUnattendedInstallerScriptTestFunction) (OsinfoInstallScript* script, void* user_data);

static gpointer boxes_unattended_installer_parent_class = NULL;
static BoxesFdoAccounts* boxes_unattended_installer_accounts;
static BoxesFdoAccounts* boxes_unattended_installer_accounts = NULL;
extern BoxesApp* boxes_app_app;

GType boxes_installer_media_get_type (void) G_GNUC_CONST;
gpointer boxes_vm_creator_ref (gpointer instance);
void boxes_vm_creator_unref (gpointer instance);
GParamSpec* boxes_param_spec_vm_creator (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void boxes_value_set_vm_creator (GValue* value, gpointer v_object);
void boxes_value_take_vm_creator (GValue* value, gpointer v_object);
gpointer boxes_value_get_vm_creator (const GValue* value);
GType boxes_vm_creator_get_type (void) G_GNUC_CONST;
GType boxes_unattended_installer_get_type (void) G_GNUC_CONST;
GType boxes_unattended_setup_box_get_type (void) G_GNUC_CONST;
GType boxes_unattended_file_get_type (void) G_GNUC_CONST;
GType boxes_unattended_avatar_file_get_type (void) G_GNUC_CONST;
#define BOXES_UNATTENDED_INSTALLER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), BOXES_TYPE_UNATTENDED_INSTALLER, BoxesUnattendedInstallerPrivate))
enum  {
	BOXES_UNATTENDED_INSTALLER_DUMMY_PROPERTY,
	BOXES_UNATTENDED_INSTALLER_NEED_USER_INPUT_FOR_VM_CREATION,
	BOXES_UNATTENDED_INSTALLER_READY_TO_CREATE,
	BOXES_UNATTENDED_INSTALLER_SUPPORTED_DEVICES
};
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
static gchar* boxes_unattended_installer_escape_mkisofs_path (const gchar* path);
BoxesUnattendedInstaller* boxes_unattended_installer_new_from_media (BoxesInstallerMedia* media, OsinfoInstallScriptList* scripts, GError** error);
BoxesUnattendedInstaller* boxes_unattended_installer_construct_from_media (GType object_type, BoxesInstallerMedia* media, OsinfoInstallScriptList* scripts, GError** error);
BoxesInstallerMedia* boxes_installer_media_new (void);
BoxesInstallerMedia* boxes_installer_media_construct (GType object_type);
GType boxes_unattended_script_file_get_type (void) G_GNUC_CONST;
BoxesUnattendedScriptFile* boxes_unattended_script_file_new (BoxesUnattendedInstaller* installer, OsinfoInstallScript* script, const gchar* dest_name, GError** error);
BoxesUnattendedScriptFile* boxes_unattended_script_file_construct (GType object_type, BoxesUnattendedInstaller* installer, OsinfoInstallScript* script, const gchar* dest_name, GError** error);
static void boxes_unattended_installer_add_unattended_file (BoxesUnattendedInstaller* self, BoxesUnattendedFile* file);
gchar* boxes_get_timezone (void);
static gchar* boxes_unattended_installer_get_preferred_language (BoxesUnattendedInstaller* self);
static gchar* boxes_unattended_installer_get_product_key_format (BoxesUnattendedInstaller* self);
BoxesUnattendedSetupBox* boxes_unattended_setup_box_new (BoxesInstallerMedia* media, const gchar* product_key_format, gboolean needs_internet);
BoxesUnattendedSetupBox* boxes_unattended_setup_box_construct (GType object_type, BoxesInstallerMedia* media, const gchar* product_key_format, gboolean needs_internet);
static void __lambda38_ (BoxesUnattendedInstaller* self);
static void ___lambda38__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static void __lambda39_ (BoxesUnattendedInstaller* self);
static void ___lambda39__boxes_unattended_setup_box_user_wants_to_create (BoxesUnattendedSetupBox* _sender, gpointer self);
static void boxes_unattended_installer_fetch_user_avatar (BoxesUnattendedInstaller* self, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void boxes_unattended_installer_fetch_user_avatar_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_);
static void boxes_unattended_installer_real_prepare_to_continue_installation (BoxesInstallerMedia* base, const gchar* vm_name);
gchar* boxes_unattended_installer_get_user_unattended (BoxesUnattendedInstaller* self, const gchar* suffix);
static void boxes_unattended_installer_real_prepare_for_installation_data_free (gpointer _data);
static void boxes_unattended_installer_real_prepare_for_installation (BoxesInstallerMedia* base, const gchar* vm_name, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static gboolean boxes_unattended_installer_real_prepare_for_installation_co (BoxesUnattendedInstallerPrepareForInstallationData* _data_);
void boxes_unattended_setup_box_save_settings (BoxesUnattendedSetupBox* self);
gboolean boxes_unattended_setup_box_get_express_install (BoxesUnattendedSetupBox* self);
void boxes_installer_media_prepare_to_continue_installation (BoxesInstallerMedia* self, const gchar* vm_name);
static void boxes_unattended_installer_create_disk_image (BoxesUnattendedInstaller* self, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void boxes_unattended_installer_create_disk_image_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_, GError** error);
static void boxes_unattended_installer_prepare_for_installation_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
GType boxes_iso_extractor_get_type (void) G_GNUC_CONST;
BoxesISOExtractor* boxes_iso_extractor_new (const gchar* iso_path);
BoxesISOExtractor* boxes_iso_extractor_construct (GType object_type, const gchar* iso_path);
static void boxes_unattended_installer_extract_boot_files (BoxesUnattendedInstaller* self, BoxesISOExtractor* extractor, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void boxes_unattended_installer_extract_boot_files_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_, GError** error);
void boxes_unattended_file_copy (BoxesUnattendedFile* self, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
void boxes_unattended_file_copy_finish (BoxesUnattendedFile* self, GAsyncResult* _res_, GError** error);
const gchar* boxes_unattended_file_get_dest_name (BoxesUnattendedFile* self);
const gchar* boxes_unattended_file_get_src_path (BoxesUnattendedFile* self);
static void _vala_array_add9 (gchar** * array, int* length, int* size, gchar* value);
void boxes_installer_media_clean_up (BoxesInstallerMedia* self);
void boxes_unattended_setup_box_set_express_install (BoxesUnattendedSetupBox* self, gboolean value);
GType boxes_app_get_type (void) G_GNUC_CONST;
GType boxes_app_window_get_type (void) G_GNUC_CONST;
BoxesAppWindow* boxes_app_get_main_window (BoxesApp* self);
GType boxes_notificationbar_get_type (void) G_GNUC_CONST;
BoxesNotificationbar* boxes_app_window_get_notificationbar (BoxesAppWindow* self);
GdNotification* boxes_notificationbar_display_error (BoxesNotificationbar* self, const gchar* message, gint timeout);
#define BOXES_NOTIFICATIONBAR_DEFAULT_TIMEOUT 6
static void boxes_unattended_installer_real_setup_domain_config (BoxesInstallerMedia* base, GVirConfigDomain* domain);
void boxes_installer_media_setup_domain_config (BoxesInstallerMedia* self, GVirConfigDomain* domain);
static GVirConfigDomainDisk* boxes_unattended_installer_get_unattended_disk_config (BoxesUnattendedInstaller* self, OsinfoPathFormat path_format);
static GVirConfigDomainDisk* boxes_unattended_installer_get_secondary_unattended_disk_config (BoxesUnattendedInstaller* self, OsinfoPathFormat path_format);
void boxes_unattended_installer_configure_install_script (BoxesUnattendedInstaller* self, OsinfoInstallScript* script);
gchar* boxes_unattended_setup_box_get_password (BoxesUnattendedSetupBox* self);
const gchar* boxes_unattended_setup_box_get_username (BoxesUnattendedSetupBox* self);
gchar* boxes_unattended_setup_box_get_product_key (BoxesUnattendedSetupBox* self);
gboolean boxes_installer_media_get_supports_virtio_disk (BoxesInstallerMedia* self);
static gchar* boxes_unattended_installer_device_name_to_path (BoxesUnattendedInstaller* self, OsinfoPathFormat path_format, const gchar* name);
static void boxes_unattended_installer_real_setup_post_install_domain_config (BoxesInstallerMedia* base, GVirConfigDomain* domain);
static void boxes_unattended_installer_remove_disk_from_domain_config (BoxesUnattendedInstaller* self, GVirConfigDomain* domain, const gchar* disk_path);
void boxes_installer_media_setup_post_install_domain_config (BoxesInstallerMedia* self, GVirConfigDomain* domain);
static void boxes_unattended_installer_real_populate_setup_box (BoxesInstallerMedia* base, GtkBox* setup_box);
static GList* boxes_unattended_installer_real_get_vm_properties (BoxesInstallerMedia* base);
GList* boxes_installer_media_get_vm_properties (BoxesInstallerMedia* self);
gchar* boxes_unattended_setup_box_get_hidden_password (BoxesUnattendedSetupBox* self);
static void _boxes_pair_unref0_ (gpointer var);
static void _g_list_free__boxes_pair_unref0_ (GList* self);
static void boxes_unattended_installer_real_set_direct_boot_params (BoxesInstallerMedia* base, GVirConfigDomainOs* domain_os);
static void boxes_unattended_installer_real_clean_up (BoxesInstallerMedia* base);
void boxes_unattended_setup_box_clean_up (BoxesUnattendedSetupBox* self);
static void boxes_unattended_installer_real_clean_up_preparation_cache (BoxesInstallerMedia* base);
void boxes_installer_media_clean_up_preparation_cache (BoxesInstallerMedia* self);
static void boxes_unattended_installer_real_prepare_data_free (gpointer _data);
static void boxes_unattended_installer_real_prepare (BoxesInstallerMedia* base, BoxesActivityProgress* progress, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static gboolean boxes_unattended_installer_real_prepare_co (BoxesUnattendedInstallerPrepareData* _data_);
static void boxes_unattended_installer_setup_drivers (BoxesUnattendedInstaller* self, BoxesActivityProgress* progress, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static gboolean boxes_unattended_installer_setup_drivers_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_);
static void boxes_unattended_installer_prepare_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static OsinfoInstallScriptInjectionMethod boxes_unattended_installer_get_injection_method (BoxesUnattendedInstaller* self);
static void boxes_unattended_installer_add_secondary_unattended_file (BoxesUnattendedInstaller* self, BoxesUnattendedFile* file);
static void boxes_unattended_installer_create_disk_image_data_free (gpointer _data);
static gboolean boxes_unattended_installer_create_disk_image_co (BoxesUnattendedInstallerCreateDiskImageData* _data_);
static void boxes_unattended_installer_create_disk_image_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void boxes_unattended_installer_fetch_user_avatar_data_free (gpointer _data);
static gboolean boxes_unattended_installer_fetch_user_avatar_co (BoxesUnattendedInstallerFetchUserAvatarData* _data_);
static void boxes_unattended_installer_fetch_user_avatar_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
void boxes_unattended_setup_box_set_avatar_path (BoxesUnattendedSetupBox* self, const gchar* value);
BoxesUnattendedAvatarFile* boxes_unattended_avatar_file_new (BoxesUnattendedInstaller* installer, const gchar* src_path, OsinfoAvatarFormat* avatar_format, GError** error);
BoxesUnattendedAvatarFile* boxes_unattended_avatar_file_construct (GType object_type, BoxesUnattendedInstaller* installer, const gchar* src_path, OsinfoAvatarFormat* avatar_format, GError** error);
static void boxes_unattended_installer_extract_boot_files_data_free (gpointer _data);
static gboolean boxes_unattended_installer_extract_boot_files_co (BoxesUnattendedInstallerExtractBootFilesData* _data_);
void boxes_iso_extractor_extract (BoxesISOExtractor* self, const gchar* path, const gchar* output_path, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
void boxes_iso_extractor_extract_finish (BoxesISOExtractor* self, GAsyncResult* _res_, GError** error);
static void boxes_unattended_installer_extract_boot_files_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void boxes_unattended_installer_setup_drivers_data_free (gpointer _data);
static gboolean boxes_unattended_installer_setup_drivers_co (BoxesUnattendedInstallerSetupDriversData* _data_);
static GList* boxes_unattended_installer_get_pre_installer_scripts (BoxesUnattendedInstaller* self);
static GList* boxes_unattended_installer_get_pre_installable_drivers (BoxesUnattendedInstaller* self, GList* preinst_scripts);
static void boxes_unattended_installer_setup_drivers_from_list (BoxesUnattendedInstaller* self, GList* drivers, BoxesActivityProgress* progress, BoxesUnattendedInstallerAddUnattendedFileFunc add_func, void* add_func_target, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static gboolean boxes_unattended_installer_setup_drivers_from_list_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_);
static void _boxes_unattended_installer_add_unattended_file_boxes_unattended_installer_add_unattended_file_func (BoxesUnattendedFile* file, gpointer self);
static void boxes_unattended_installer_setup_drivers_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static GList* boxes_unattended_installer_get_post_installer_scripts (BoxesUnattendedInstaller* self);
static GList* boxes_unattended_installer_get_post_installable_drivers (BoxesUnattendedInstaller* self, GList* postinst_scripts);
static void _boxes_unattended_installer_add_secondary_unattended_file_boxes_unattended_installer_add_unattended_file_func (BoxesUnattendedFile* file, gpointer self);
static void boxes_unattended_installer_setup_drivers_from_list_data_free (gpointer _data);
static gboolean boxes_unattended_installer_setup_drivers_from_list_co (BoxesUnattendedInstallerSetupDriversFromListData* _data_);
static void boxes_unattended_installer_setup_driver (BoxesUnattendedInstaller* self, OsinfoDeviceDriver* driver, BoxesActivityProgress* progress, BoxesUnattendedInstallerAddUnattendedFileFunc add_func, void* add_func_target, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
static void boxes_unattended_installer_setup_driver_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_, GError** error);
static void boxes_unattended_installer_setup_drivers_from_list_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
static void boxes_unattended_installer_setup_driver_data_free (gpointer _data);
static gboolean boxes_unattended_installer_setup_driver_co (BoxesUnattendedInstallerSetupDriverData* _data_);
GType boxes_downloader_get_type (void) G_GNUC_CONST;
BoxesDownloader* boxes_downloader_get_instance (void);
static void _vala_array_add10 (gchar** * array, int* length, int* size, gchar* value);
void boxes_downloader_download (BoxesDownloader* self, GFile* remote_file, gchar** cached_paths, int cached_paths_length1, BoxesActivityProgress* progress, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_);
GFile* boxes_downloader_download_finish (BoxesDownloader* self, GAsyncResult* _res_, GError** error);
static void boxes_unattended_installer_setup_driver_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_);
BoxesUnattendedRawFile* boxes_unattended_raw_file_new (BoxesUnattendedInstaller* installer, const gchar* src_path, const gchar* dest_name);
BoxesUnattendedRawFile* boxes_unattended_raw_file_construct (GType object_type, BoxesUnattendedInstaller* installer, const gchar* src_path, const gchar* dest_name);
GType boxes_unattended_raw_file_get_type (void) G_GNUC_CONST;
static GList* boxes_unattended_installer_get_installable_drivers (BoxesUnattendedInstaller* self, GList* scripts, BoxesUnattendedInstallerDriverInstallableFunc installable_func, void* installable_func_target, BoxesUnattendedInstallerScriptDriverSigningReqFunc signing_req_func, void* signing_req_func_target);
static gboolean __lambda147_ (BoxesUnattendedInstaller* self, OsinfoDeviceDriver* driver);
static gboolean ___lambda147__boxes_unattended_installer_driver_installable_func (OsinfoDeviceDriver* driver, gpointer self);
static OsinfoDeviceDriverSigningReq __lambda148_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script);
static OsinfoDeviceDriverSigningReq ___lambda148__boxes_unattended_installer_script_driver_signing_req_func (OsinfoInstallScript* script, gpointer self);
static gboolean __lambda150_ (BoxesUnattendedInstaller* self, OsinfoDeviceDriver* driver);
static gboolean ___lambda150__boxes_unattended_installer_driver_installable_func (OsinfoDeviceDriver* driver, gpointer self);
static OsinfoDeviceDriverSigningReq __lambda151_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script);
static OsinfoDeviceDriverSigningReq ___lambda151__boxes_unattended_installer_script_driver_signing_req_func (OsinfoInstallScript* script, gpointer self);
static Block82Data* block82_data_ref (Block82Data* _data82_);
static void block82_data_unref (void * _userdata_);
static GList* boxes_unattended_installer_get_drivers (BoxesUnattendedInstaller* self, BoxesUnattendedInstallerDriverTestFunction test_func, void* test_func_target);
static gboolean __lambda146_ (Block82Data* _data82_, OsinfoDeviceDriver* driver);
static gboolean ___lambda146__boxes_unattended_installer_driver_test_function (OsinfoDeviceDriver* driver, gpointer self);
static void _g_free0_ (gpointer var);
GType boxes_cpu_arch_compatibility_get_type (void) G_GNUC_CONST;
BoxesCPUArchCompatibility boxes_compare_cpu_architectures (const gchar* arch1, const gchar* arch2);
static GList* boxes_unattended_installer_get_scripts (BoxesUnattendedInstaller* self, BoxesUnattendedInstallerScriptTestFunction test_func, void* test_func_target);
static gboolean __lambda145_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script);
static gboolean ___lambda145__boxes_unattended_installer_script_test_function (OsinfoInstallScript* script, gpointer self);
static gboolean __lambda149_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script);
static gboolean ___lambda149__boxes_unattended_installer_script_test_function (OsinfoInstallScript* script, gpointer self);
static gchar** _vala_array_dup4 (gchar** self, int length);
static void _vala_array_add11 (gchar** * array, int* length, int* size, gchar* value);
static gboolean _vala_string_array_contains (gchar* * stack, int stack_length, gchar* needle);
BoxesUnattendedInstaller* boxes_unattended_installer_new (void);
BoxesUnattendedInstaller* boxes_unattended_installer_construct (GType object_type);
gboolean boxes_installer_media_get_live (BoxesInstallerMedia* self);
gboolean boxes_unattended_setup_box_get_ready_to_create (BoxesUnattendedSetupBox* self);
OsinfoDeviceList* boxes_installer_media_get_supported_devices (BoxesInstallerMedia* self);
OsinfoInstallScriptInjectionMethod boxes_unattended_script_file_get_injection_method (BoxesUnattendedScriptFile* self);
static GObject * boxes_unattended_installer_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties);
static void boxes_unattended_installer_finalize (GObject * obj);
gboolean boxes_installer_media_get_need_user_input_for_vm_creation (BoxesInstallerMedia* self);
gboolean boxes_installer_media_get_ready_to_create (BoxesInstallerMedia* self);
static void _vala_boxes_unattended_installer_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static void _g_object_unref0_ (gpointer var) {
#line 39 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 875 "unattended-installer.c"
}


static void _g_list_free__g_object_unref0_ (GList* self) {
#line 39 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
#line 39 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_list_free (self);
#line 884 "unattended-installer.c"
}


static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	gboolean _tmp0_ = FALSE;
	gboolean _tmp1_ = FALSE;
	GError * _inner_error_ = NULL;
#line 1399 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1399 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1399 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
	if ((*((gchar*) self)) == '\0') {
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 903 "unattended-installer.c"
	} else {
		const gchar* _tmp2_;
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp2_ = old;
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp1_ = (*((gchar*) _tmp2_)) == '\0';
#line 910 "unattended-installer.c"
	}
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
	if (_tmp1_) {
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp0_ = TRUE;
#line 916 "unattended-installer.c"
	} else {
		const gchar* _tmp3_;
		const gchar* _tmp4_;
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp3_ = old;
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp4_ = replacement;
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp0_ = g_strcmp0 (_tmp3_, _tmp4_) == 0;
#line 926 "unattended-installer.c"
	}
#line 1400 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
	if (_tmp0_) {
#line 930 "unattended-installer.c"
		gchar* _tmp5_;
#line 1401 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp5_ = g_strdup (self);
#line 1401 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		result = _tmp5_;
#line 1401 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		return result;
#line 938 "unattended-installer.c"
	}
	{
		GRegex* regex;
		const gchar* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		GRegex* _tmp9_;
		GRegex* _tmp10_;
		gchar* _tmp11_;
		GRegex* _tmp12_;
		const gchar* _tmp13_;
		gchar* _tmp14_;
		gchar* _tmp15_;
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp6_ = old;
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp7_ = g_regex_escape_string (_tmp6_, -1);
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp8_ = _tmp7_;
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp9_ = g_regex_new (_tmp8_, 0, 0, &_inner_error_);
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp10_ = _tmp9_;
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_g_free0 (_tmp8_);
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		regex = _tmp10_;
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 970 "unattended-installer.c"
				goto __catch79_g_regex_error;
			}
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1404 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			return NULL;
#line 979 "unattended-installer.c"
		}
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp12_ = regex;
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp13_ = replacement;
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp14_ = g_regex_replace_literal (_tmp12_, self, (gssize) -1, 0, _tmp13_, 0, &_inner_error_);
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp11_ = _tmp14_;
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 995 "unattended-installer.c"
				goto __catch79_g_regex_error;
			}
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
			return NULL;
#line 1006 "unattended-installer.c"
		}
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp15_ = _tmp11_;
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_tmp11_ = NULL;
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		result = _tmp15_;
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_g_free0 (_tmp11_);
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1405 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		return result;
#line 1020 "unattended-installer.c"
	}
	goto __finally79;
	__catch79_g_regex_error:
	{
		GError* e = NULL;
#line 1403 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		e = _inner_error_;
#line 1403 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_inner_error_ = NULL;
#line 1407 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1403 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 1034 "unattended-installer.c"
	}
	__finally79:
#line 1403 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1403 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1403 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error_);
#line 1403 "/home/fborges/jhbuild/install/share/vala-0.36/vapi/glib-2.0.vapi"
		return NULL;
#line 1045 "unattended-installer.c"
	}
}


static gchar* boxes_unattended_installer_escape_mkisofs_path (const gchar* path) {
	gchar* result = NULL;
	gchar* str;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
#line 65 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (path != NULL, NULL);
#line 66 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = path;
#line 66 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = string_replace (_tmp0_, "\\", "\\\\");
#line 66 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	str = _tmp1_;
#line 68 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = string_replace (str, "=", "\\=");
#line 68 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp2_;
#line 68 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (str);
#line 68 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 1072 "unattended-installer.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 86 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return self ? g_object_ref (self) : NULL;
#line 1079 "unattended-installer.c"
}


static void __lambda38_ (BoxesUnattendedInstaller* self) {
#line 116 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_notify ((GObject*) self, "ready-to-create");
#line 1086 "unattended-installer.c"
}


static void ___lambda38__g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
#line 115 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__lambda38_ ((BoxesUnattendedInstaller*) self);
#line 1093 "unattended-installer.c"
}


static void __lambda39_ (BoxesUnattendedInstaller* self) {
#line 119 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_signal_emit_by_name ((BoxesInstallerMedia*) self, "user-wants-to-create");
#line 1100 "unattended-installer.c"
}


static void ___lambda39__boxes_unattended_setup_box_user_wants_to_create (BoxesUnattendedSetupBox* _sender, gpointer self) {
#line 118 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__lambda39_ ((BoxesUnattendedInstaller*) self);
#line 1107 "unattended-installer.c"
}


BoxesUnattendedInstaller* boxes_unattended_installer_construct_from_media (GType object_type, BoxesInstallerMedia* media, OsinfoInstallScriptList* scripts, GError** error) {
	BoxesUnattendedInstaller * self = NULL;
	BoxesInstallerMedia* _tmp0_;
	OsinfoOs* _tmp1_;
	OsinfoOs* _tmp2_;
	BoxesInstallerMedia* _tmp3_;
	OsinfoMedia* _tmp4_;
	OsinfoMedia* _tmp5_;
	BoxesInstallerMedia* _tmp6_;
	const gchar* _tmp7_;
	gchar* _tmp8_;
	BoxesInstallerMedia* _tmp9_;
	const gchar* _tmp10_;
	gchar* _tmp11_;
	BoxesInstallerMedia* _tmp12_;
	gboolean _tmp13_;
	BoxesInstallerMedia* _tmp14_;
	const gchar* _tmp15_;
	gchar* _tmp16_;
	BoxesInstallerMedia* _tmp17_;
	OsinfoResources* _tmp18_;
	OsinfoResources* _tmp19_;
	OsinfoInstallScriptList* _tmp20_;
	OsinfoInstallScriptList* _tmp21_;
	OsinfoInstallConfig* _tmp22_;
	gboolean needs_internet;
	OsinfoInstallScriptList* _tmp23_;
	GList* _tmp24_;
	OsinfoDeviceList* _tmp38_;
	gchar* _tmp39_;
	gchar* _tmp40_;
	const gchar* _tmp41_;
	gchar* _tmp42_;
	gchar* product_key_format;
	gchar* _tmp43_;
	const gchar* _tmp44_;
	gboolean _tmp45_;
	BoxesUnattendedSetupBox* _tmp46_;
	BoxesUnattendedSetupBox* _tmp47_;
	BoxesUnattendedSetupBox* _tmp48_;
	GError * _inner_error_ = NULL;
#line 85 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (media != NULL, NULL);
#line 85 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (scripts != NULL, NULL);
#line 85 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) boxes_installer_media_construct (object_type);
#line 86 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = media;
#line 86 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = _tmp0_->os;
#line 86 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 86 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (((BoxesInstallerMedia*) self)->os);
#line 86 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMedia*) self)->os = _tmp2_;
#line 87 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = media;
#line 87 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = _tmp3_->os_media;
#line 87 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = _g_object_ref0 (_tmp4_);
#line 87 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (((BoxesInstallerMedia*) self)->os_media);
#line 87 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMedia*) self)->os_media = _tmp5_;
#line 88 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = media;
#line 88 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp7_ = _tmp6_->label;
#line 88 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp8_ = g_strdup (_tmp7_);
#line 88 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (((BoxesInstallerMedia*) self)->label);
#line 88 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMedia*) self)->label = _tmp8_;
#line 89 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp9_ = media;
#line 89 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp10_ = _tmp9_->device_file;
#line 89 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp11_ = g_strdup (_tmp10_);
#line 89 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (((BoxesInstallerMedia*) self)->device_file);
#line 89 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMedia*) self)->device_file = _tmp11_;
#line 90 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp12_ = media;
#line 90 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp13_ = _tmp12_->from_image;
#line 90 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMedia*) self)->from_image = _tmp13_;
#line 91 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp14_ = media;
#line 91 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp15_ = _tmp14_->mount_point;
#line 91 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp16_ = g_strdup (_tmp15_);
#line 91 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (((BoxesInstallerMedia*) self)->mount_point);
#line 91 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMedia*) self)->mount_point = _tmp16_;
#line 92 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp17_ = media;
#line 92 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp18_ = _tmp17_->resources;
#line 92 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp19_ = _g_object_ref0 (_tmp18_);
#line 92 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (((BoxesInstallerMedia*) self)->resources);
#line 92 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMedia*) self)->resources = _tmp19_;
#line 94 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp20_ = scripts;
#line 94 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp21_ = _g_object_ref0 (_tmp20_);
#line 94 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->scripts);
#line 94 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->scripts = _tmp21_;
#line 95 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp22_ = osinfo_install_config_new ("https://wiki.gnome.org/Boxes/unattended");
#line 95 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->config);
#line 95 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->config = _tmp22_;
#line 97 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (self->priv->unattended_files);
#line 97 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->unattended_files = NULL;
#line 98 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (self->priv->secondary_unattended_files);
#line 98 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->secondary_unattended_files = NULL;
#line 99 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	needs_internet = FALSE;
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp23_ = scripts;
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp24_ = osinfo_list_get_elements ((OsinfoList*) _tmp23_);
#line 1252 "unattended-installer.c"
	{
		GList* s_collection = NULL;
		GList* s_it = NULL;
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		s_collection = _tmp24_;
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (s_it = s_collection; s_it != NULL; s_it = s_it->next) {
#line 1260 "unattended-installer.c"
			OsinfoEntity* s = NULL;
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			s = (OsinfoEntity*) s_it->data;
#line 1264 "unattended-installer.c"
			{
				OsinfoInstallScript* script;
				OsinfoEntity* _tmp25_;
				OsinfoInstallScript* _tmp26_;
				gchar* filename;
				OsinfoInstallScript* _tmp27_;
				const gchar* _tmp28_;
				gchar* _tmp29_;
				BoxesUnattendedScriptFile* _tmp30_;
				OsinfoInstallScript* _tmp31_;
				const gchar* _tmp32_;
				BoxesUnattendedScriptFile* _tmp33_;
				gboolean _tmp34_ = FALSE;
				gboolean _tmp35_;
#line 101 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp25_ = s;
#line 101 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp26_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp25_, osinfo_install_script_get_type ()) ? ((OsinfoInstallScript*) _tmp25_) : NULL);
#line 101 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				script = _tmp26_;
#line 102 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp27_ = script;
#line 102 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp28_ = osinfo_install_script_get_expected_filename (_tmp27_);
#line 102 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp29_ = g_strdup (_tmp28_);
#line 102 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				filename = _tmp29_;
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp31_ = script;
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp32_ = filename;
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp33_ = boxes_unattended_script_file_new (self, _tmp31_, _tmp32_, &_inner_error_);
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp30_ = _tmp33_;
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_propagate_error (error, _inner_error_);
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (filename);
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (script);
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_list_free0 (s_collection);
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (self);
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return NULL;
#line 1315 "unattended-installer.c"
				}
#line 103 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				boxes_unattended_installer_add_unattended_file (self, (BoxesUnattendedFile*) _tmp30_);
#line 104 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp35_ = needs_internet;
#line 104 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp35_) {
#line 104 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp34_ = TRUE;
#line 1325 "unattended-installer.c"
				} else {
					OsinfoInstallScript* _tmp36_;
					gboolean _tmp37_;
#line 104 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp36_ = script;
#line 104 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp37_ = osinfo_install_script_get_needs_internet (_tmp36_);
#line 104 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp34_ = _tmp37_;
#line 1335 "unattended-installer.c"
				}
#line 104 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				needs_internet = _tmp34_;
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_tmp30_);
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (filename);
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (script);
#line 1345 "unattended-installer.c"
			}
		}
#line 100 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_list_free0 (s_collection);
#line 1350 "unattended-installer.c"
	}
#line 107 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp38_ = osinfo_devicelist_new ();
#line 107 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->priv->additional_devices);
#line 107 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->additional_devices = _tmp38_;
#line 109 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp39_ = boxes_get_timezone ();
#line 109 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->timezone);
#line 109 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->timezone = _tmp39_;
#line 110 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp40_ = boxes_unattended_installer_get_preferred_language (self);
#line 110 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->lang);
#line 110 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->lang = _tmp40_;
#line 111 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp41_ = self->priv->lang;
#line 111 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp42_ = g_strdup (_tmp41_);
#line 111 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->kbd);
#line 111 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->kbd = _tmp42_;
#line 113 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp43_ = boxes_unattended_installer_get_product_key_format (self);
#line 113 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	product_key_format = _tmp43_;
#line 114 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp44_ = product_key_format;
#line 114 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp45_ = needs_internet;
#line 114 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp46_ = boxes_unattended_setup_box_new ((BoxesInstallerMedia*) self, _tmp44_, _tmp45_);
#line 114 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_ref_sink (_tmp46_);
#line 114 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->setup_box);
#line 114 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->setup_box = _tmp46_;
#line 115 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp47_ = self->setup_box;
#line 115 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_signal_connect_object ((GObject*) _tmp47_, "notify::ready-to-create", (GCallback) ___lambda38__g_object_notify, self, 0);
#line 118 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp48_ = self->setup_box;
#line 118 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_signal_connect_object (_tmp48_, "user-wants-to-create", (GCallback) ___lambda39__boxes_unattended_setup_box_user_wants_to_create, self, 0);
#line 122 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_fetch_user_avatar (self, NULL, NULL);
#line 85 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (product_key_format);
#line 85 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return self;
#line 1408 "unattended-installer.c"
}


BoxesUnattendedInstaller* boxes_unattended_installer_new_from_media (BoxesInstallerMedia* media, OsinfoInstallScriptList* scripts, GError** error) {
#line 85 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return boxes_unattended_installer_construct_from_media (BOXES_TYPE_UNATTENDED_INSTALLER, media, scripts, error);
#line 1415 "unattended-installer.c"
}


static void boxes_unattended_installer_real_prepare_to_continue_installation (BoxesInstallerMedia* base, const gchar* vm_name) {
	BoxesUnattendedInstaller * self;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* path;
	gchar* _tmp2_;
	const gchar* _tmp3_;
	GFile* _tmp4_;
	GList* _tmp5_;
	guint _tmp6_;
	gboolean _tmp10_ = FALSE;
	OsinfoMedia* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
	gboolean _tmp15_;
#line 125 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 125 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (vm_name != NULL);
#line 130 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = vm_name;
#line 130 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = boxes_replace_regex (_tmp0_, "[{|}~[\\]^':; <=>?@!\"#$%`()+/.,*&]", "");
#line 130 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->hostname);
#line 130 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->hostname = _tmp1_;
#line 132 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = boxes_unattended_installer_get_user_unattended (self, "unattended.img");
#line 132 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	path = _tmp2_;
#line 133 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = path;
#line 133 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = g_file_new_for_path (_tmp3_);
#line 133 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->disk_file);
#line 133 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->disk_file = _tmp4_;
#line 134 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = self->priv->secondary_unattended_files;
#line 134 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = g_list_length (_tmp5_);
#line 134 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp6_ > ((guint) 0)) {
#line 1465 "unattended-installer.c"
		gchar* _tmp7_;
		const gchar* _tmp8_;
		GFile* _tmp9_;
#line 135 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = boxes_unattended_installer_get_user_unattended (self, "unattended.iso");
#line 135 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (path);
#line 135 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		path = _tmp7_;
#line 136 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp8_ = path;
#line 136 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp9_ = g_file_new_for_path (_tmp8_);
#line 136 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (self->secondary_disk_file);
#line 136 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		self->secondary_disk_file = _tmp9_;
#line 1483 "unattended-installer.c"
	}
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp11_ = ((BoxesInstallerMedia*) self)->os_media;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_get (_tmp11_, "kernel-path", &_tmp12_, NULL);
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp13_ = _tmp12_;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp14_ = _tmp13_;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp15_ = _tmp14_ != NULL;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp14_);
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp15_) {
#line 1499 "unattended-installer.c"
		OsinfoMedia* _tmp16_;
		gchar* _tmp17_;
		gchar* _tmp18_;
		gchar* _tmp19_;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp16_ = ((BoxesInstallerMedia*) self)->os_media;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_get (_tmp16_, "initrd-path", &_tmp17_, NULL);
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp18_ = _tmp17_;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp19_ = _tmp18_;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp10_ = _tmp19_ != NULL;
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp19_);
#line 1516 "unattended-installer.c"
	} else {
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp10_ = FALSE;
#line 1520 "unattended-installer.c"
	}
#line 139 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp10_) {
#line 1524 "unattended-installer.c"
		gchar* _tmp20_;
		const gchar* _tmp21_;
		GFile* _tmp22_;
		gchar* _tmp23_;
		const gchar* _tmp24_;
		GFile* _tmp25_;
#line 140 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp20_ = boxes_unattended_installer_get_user_unattended (self, "kernel");
#line 140 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (path);
#line 140 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		path = _tmp20_;
#line 141 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp21_ = path;
#line 141 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp22_ = g_file_new_for_path (_tmp21_);
#line 141 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (self->kernel_file);
#line 141 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		self->kernel_file = _tmp22_;
#line 142 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp23_ = boxes_unattended_installer_get_user_unattended (self, "initrd");
#line 142 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (path);
#line 142 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		path = _tmp23_;
#line 143 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp24_ = path;
#line 143 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp25_ = g_file_new_for_path (_tmp24_);
#line 143 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (self->initrd_file);
#line 143 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		self->initrd_file = _tmp25_;
#line 1559 "unattended-installer.c"
	}
#line 125 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (path);
#line 1563 "unattended-installer.c"
}


static void boxes_unattended_installer_real_prepare_for_installation_data_free (gpointer _data) {
	BoxesUnattendedInstallerPrepareForInstallationData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->vm_name);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerPrepareForInstallationData, _data_);
#line 1578 "unattended-installer.c"
}


static void boxes_unattended_installer_real_prepare_for_installation (BoxesInstallerMedia* base, const gchar* vm_name, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstaller * self;
	BoxesUnattendedInstallerPrepareForInstallationData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
	const gchar* _tmp1_;
	gchar* _tmp2_;
	GCancellable* _tmp3_;
	GCancellable* _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerPrepareForInstallationData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 1600 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_real_prepare_for_installation_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = vm_name;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = g_strdup (_tmp1_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->vm_name);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->vm_name = _tmp2_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = cancellable;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->cancellable = _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_real_prepare_for_installation_co (_data_);
#line 1626 "unattended-installer.c"
}


static void boxes_unattended_installer_real_prepare_for_installation_finish (BoxesInstallerMedia* base, GAsyncResult* _res_) {
	BoxesUnattendedInstallerPrepareForInstallationData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (NULL == _data_) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return;
#line 1638 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 1642 "unattended-installer.c"
}


static void boxes_unattended_installer_prepare_for_installation_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerPrepareForInstallationData* _data_;
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_real_prepare_for_installation_co (_data_);
#line 1658 "unattended-installer.c"
}


static void _vala_array_add9 (gchar** * array, int* length, int* size, gchar* value) {
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if ((*length) == (*size)) {
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 1669 "unattended-installer.c"
	}
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(*array)[(*length)++] = value;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(*array)[*length] = NULL;
#line 1675 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_real_prepare_for_installation_co (BoxesUnattendedInstallerPrepareForInstallationData* _data_) {
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 1684 "unattended-installer.c"
		goto _state_0;
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 1688 "unattended-installer.c"
		goto _state_1;
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 2:
#line 1692 "unattended-installer.c"
		goto _state_2;
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 3:
#line 1696 "unattended-installer.c"
		goto _state_3;
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 4:
#line 1700 "unattended-installer.c"
		goto _state_4;
		default:
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 1705 "unattended-installer.c"
	}
	_state_0:
#line 148 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = _data_->self->setup_box;
#line 148 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_setup_box_save_settings (_data_->_tmp0_);
#line 150 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = _data_->self->setup_box;
#line 150 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp2_ = boxes_unattended_setup_box_get_express_install (_data_->_tmp1_);
#line 150 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp3_ = _data_->_tmp2_;
#line 150 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (!_data_->_tmp3_) {
#line 151 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_debug ("unattended-installer.vala:151: Unattended installation disabled.");
#line 153 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 153 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_data_->_state_ != 0) {
#line 153 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			while (_data_->_task_complete_ != TRUE) {
#line 153 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 1730 "unattended-installer.c"
			}
		}
#line 153 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_unref (_data_->_async_result);
#line 153 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 1737 "unattended-installer.c"
	}
#line 156 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp4_ = _data_->vm_name;
#line 156 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_installer_media_prepare_to_continue_installation ((BoxesInstallerMedia*) _data_->self, _data_->_tmp4_);
#line 1743 "unattended-installer.c"
	{
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp5_ = _data_->cancellable;
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_state_ = 1;
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_installer_create_disk_image (_data_->self, _data_->_tmp5_, boxes_unattended_installer_prepare_for_installation_ready, _data_);
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 1753 "unattended-installer.c"
		_state_1:
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_installer_create_disk_image_finish (_data_->self, _data_->_res_, &_data_->_inner_error_);
#line 159 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 1759 "unattended-installer.c"
			goto __catch80_g_error;
		}
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp7_ = ((BoxesInstallerMedia*) _data_->self)->os_media;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_get (_data_->_tmp7_, "kernel-path", &_data_->_tmp8_, NULL);
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp9_ = _data_->_tmp8_;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp10_ = _data_->_tmp9_;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp11_ = _data_->_tmp10_ != NULL;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->_tmp10_);
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_data_->_tmp11_) {
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp12_ = ((BoxesInstallerMedia*) _data_->self)->os_media;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_object_get (_data_->_tmp12_, "initrd-path", &_data_->_tmp13_, NULL);
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp14_ = _data_->_tmp13_;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp15_ = _data_->_tmp14_;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp6_ = _data_->_tmp15_ != NULL;
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->_tmp15_);
#line 1788 "unattended-installer.c"
		} else {
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp6_ = FALSE;
#line 1792 "unattended-installer.c"
		}
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_data_->_tmp6_) {
#line 163 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp16_ = ((BoxesInstallerMedia*) _data_->self)->device_file;
#line 163 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp17_ = boxes_iso_extractor_new (_data_->_tmp16_);
#line 163 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->extractor = _data_->_tmp17_;
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp18_ = _data_->extractor;
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp19_ = _data_->cancellable;
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_state_ = 2;
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_unattended_installer_extract_boot_files (_data_->self, _data_->_tmp18_, _data_->_tmp19_, boxes_unattended_installer_prepare_for_installation_ready, _data_);
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			return FALSE;
#line 1812 "unattended-installer.c"
			_state_2:
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_unattended_installer_extract_boot_files_finish (_data_->self, _data_->_res_, &_data_->_inner_error_);
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 165 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->extractor);
#line 1820 "unattended-installer.c"
				goto __catch80_g_error;
			}
#line 162 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (_data_->extractor);
#line 1825 "unattended-installer.c"
		}
#line 168 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp20_ = _data_->self->priv->unattended_files;
#line 1829 "unattended-installer.c"
		{
#line 168 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->unattended_file_collection = _data_->_tmp20_;
#line 168 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			for (_data_->unattended_file_it = _data_->unattended_file_collection; _data_->unattended_file_it != NULL; _data_->unattended_file_it = _data_->unattended_file_it->next) {
#line 168 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp21_ = _g_object_ref0 ((BoxesUnattendedFile*) _data_->unattended_file_it->data);
#line 168 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->unattended_file = _data_->_tmp21_;
#line 1839 "unattended-installer.c"
				{
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp22_ = _data_->unattended_file;
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp23_ = _data_->cancellable;
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_state_ = 3;
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					boxes_unattended_file_copy (_data_->_tmp22_, _data_->_tmp23_, boxes_unattended_installer_prepare_for_installation_ready, _data_);
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return FALSE;
#line 1851 "unattended-installer.c"
					_state_3:
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					boxes_unattended_file_copy_finish (_data_->_tmp22_, _data_->_res_, &_data_->_inner_error_);
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 169 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_object_unref0 (_data_->unattended_file);
#line 1859 "unattended-installer.c"
						goto __catch80_g_error;
					}
#line 168 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->unattended_file);
#line 1864 "unattended-installer.c"
				}
			}
		}
#line 171 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp24_ = _data_->self->secondary_disk_file;
#line 171 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_data_->_tmp24_ != NULL) {
#line 172 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp25_ = _data_->self->secondary_disk_file;
#line 172 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp26_ = g_file_get_path (_data_->_tmp25_);
#line 172 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->secondary_disk_path = _data_->_tmp26_;
#line 174 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp27_ = _data_->secondary_disk_path;
#line 174 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_debug ("unattended-installer.vala:174: Creating secondary disk image '%s'...", _data_->_tmp27_);
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp28_ = g_strdup ("mkisofs");
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp29_ = g_strdup ("-graft-points");
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp30_ = g_strdup ("-J");
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp31_ = g_strdup ("-rock");
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp32_ = g_strdup ("-o");
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp33_ = _data_->secondary_disk_path;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp34_ = g_strdup (_data_->_tmp33_);
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp35_ = g_new0 (gchar*, 6 + 1);
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp35_[0] = _data_->_tmp28_;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp35_[1] = _data_->_tmp29_;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp35_[2] = _data_->_tmp30_;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp35_[3] = _data_->_tmp31_;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp35_[4] = _data_->_tmp32_;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp35_[5] = _data_->_tmp34_;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->argv = _data_->_tmp35_;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->argv_length1 = 6;
#line 175 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_argv_size_ = _data_->argv_length1;
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp36_ = _data_->self->priv->secondary_unattended_files;
#line 1918 "unattended-installer.c"
			{
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_vala1_unattended_file_collection = _data_->_tmp36_;
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				for (_data_->_vala1_unattended_file_it = _data_->_vala1_unattended_file_collection; _data_->_vala1_unattended_file_it != NULL; _data_->_vala1_unattended_file_it = _data_->_vala1_unattended_file_it->next) {
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp37_ = _g_object_ref0 ((BoxesUnattendedFile*) _data_->_vala1_unattended_file_it->data);
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_vala1_unattended_file = _data_->_tmp37_;
#line 1928 "unattended-installer.c"
					{
#line 177 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp38_ = _data_->_vala1_unattended_file;
#line 177 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp39_ = boxes_unattended_file_get_dest_name (_data_->_tmp38_);
#line 177 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp40_ = _data_->_tmp39_;
#line 177 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp41_ = boxes_unattended_installer_escape_mkisofs_path (_data_->_tmp40_);
#line 177 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->dest_path = _data_->_tmp41_;
#line 178 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp42_ = _data_->_vala1_unattended_file;
#line 178 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp43_ = boxes_unattended_file_get_src_path (_data_->_tmp42_);
#line 178 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp44_ = _data_->_tmp43_;
#line 178 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp45_ = boxes_unattended_installer_escape_mkisofs_path (_data_->_tmp44_);
#line 178 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->src_path = _data_->_tmp45_;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp46_ = _data_->argv;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp46__length1 = _data_->argv_length1;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp47_ = _data_->dest_path;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp48_ = g_strconcat (_data_->_tmp47_, "=", NULL);
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp49_ = _data_->_tmp48_;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp50_ = _data_->src_path;
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp51_ = g_strconcat (_data_->_tmp49_, _data_->_tmp50_, NULL);
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_vala_array_add9 (&_data_->argv, &_data_->argv_length1, &_data_->_argv_size_, _data_->_tmp51_);
#line 180 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_free0 (_data_->_tmp49_);
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_free0 (_data_->src_path);
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_free0 (_data_->dest_path);
#line 176 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_object_unref0 (_data_->_vala1_unattended_file);
#line 1974 "unattended-installer.c"
					}
				}
			}
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp52_ = _data_->argv;
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp52__length1 = _data_->argv_length1;
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp53_ = _data_->cancellable;
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_state_ = 4;
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_exec (_data_->_tmp52_, _data_->_tmp52__length1, _data_->_tmp53_, boxes_unattended_installer_prepare_for_installation_ready, _data_);
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			return FALSE;
#line 1990 "unattended-installer.c"
			_state_4:
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_exec_finish (_data_->_res_, NULL, NULL, &_data_->_inner_error_);
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->argv = (_vala_array_free (_data_->argv, _data_->argv_length1, (GDestroyNotify) g_free), NULL);
#line 183 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->secondary_disk_path);
#line 2000 "unattended-installer.c"
				goto __catch80_g_error;
			}
#line 184 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp54_ = _data_->secondary_disk_path;
#line 184 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_debug ("unattended-installer.vala:184: Created secondary disk image '%s'...", _data_->_tmp54_);
#line 171 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->argv = (_vala_array_free (_data_->argv, _data_->argv_length1, (GDestroyNotify) g_free), NULL);
#line 171 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->secondary_disk_path);
#line 2011 "unattended-installer.c"
		}
	}
	goto __finally80;
	__catch80_g_error:
	{
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_error_ = _data_->_inner_error_;
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_inner_error_ = NULL;
#line 187 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_installer_media_clean_up ((BoxesInstallerMedia*) _data_->self);
#line 191 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp55_ = _data_->self->setup_box;
#line 191 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_setup_box_set_express_install (_data_->_tmp55_, FALSE);
#line 192 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp56_ = g_strdup (_ ("An error occurred during installation preparation. Express Install dis" \
"abled."));
#line 192 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->msg = _data_->_tmp56_;
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp57_ = boxes_app_app;
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp58_ = boxes_app_get_main_window (_data_->_tmp57_);
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp59_ = _data_->_tmp58_;
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp60_ = boxes_app_window_get_notificationbar (_data_->_tmp59_);
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp61_ = _data_->_tmp60_;
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp62_ = _data_->msg;
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp63_ = boxes_notificationbar_display_error (_data_->_tmp61_, _data_->_tmp62_, BOXES_NOTIFICATIONBAR_DEFAULT_TIMEOUT);
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp64_ = _data_->_tmp63_;
#line 193 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->_tmp64_);
#line 194 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp65_ = _data_->_error_;
#line 194 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp66_ = _data_->_tmp65_->message;
#line 194 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_debug ("unattended-installer.vala:194: Disabling unattended installation: %s", _data_->_tmp66_);
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->msg);
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_error_free0 (_data_->_error_);
#line 2059 "unattended-installer.c"
	}
	__finally80:
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_clear_error (&_data_->_inner_error_);
#line 158 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 2070 "unattended-installer.c"
	}
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 2080 "unattended-installer.c"
		}
	}
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 147 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 2087 "unattended-installer.c"
}


static void boxes_unattended_installer_real_setup_domain_config (BoxesInstallerMedia* base, GVirConfigDomain* domain) {
	BoxesUnattendedInstaller * self;
	GVirConfigDomain* _tmp0_;
	BoxesUnattendedSetupBox* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	GFile* _tmp4_;
	GVirConfigDomainDisk* disk;
	GVirConfigDomainDisk* _tmp5_;
	GVirConfigDomain* _tmp6_;
	GVirConfigDomainDisk* _tmp7_;
	GFile* _tmp8_;
#line 198 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 198 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (domain != NULL);
#line 199 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = domain;
#line 199 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	BOXES_INSTALLER_MEDIA_CLASS (boxes_unattended_installer_parent_class)->setup_domain_config (G_TYPE_CHECK_INSTANCE_CAST (self, BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMedia), _tmp0_);
#line 201 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = self->setup_box;
#line 201 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = boxes_unattended_setup_box_get_express_install (_tmp1_);
#line 201 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = _tmp2_;
#line 201 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (!_tmp3_) {
#line 202 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return;
#line 2121 "unattended-installer.c"
	}
#line 204 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = self->disk_file;
#line 204 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (_tmp4_ != NULL);
#line 205 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = boxes_unattended_installer_get_unattended_disk_config (self, OSINFO_PATH_FORMAT_UNIX);
#line 205 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	disk = _tmp5_;
#line 206 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = domain;
#line 206 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp7_ = disk;
#line 206 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_add_device (_tmp6_, (GVirConfigDomainDevice*) _tmp7_);
#line 207 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp8_ = self->secondary_disk_file;
#line 207 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp8_ != NULL) {
#line 2141 "unattended-installer.c"
		GVirConfigDomainDisk* _tmp9_;
		GVirConfigDomain* _tmp10_;
		GVirConfigDomainDisk* _tmp11_;
#line 208 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp9_ = boxes_unattended_installer_get_secondary_unattended_disk_config (self, OSINFO_PATH_FORMAT_UNIX);
#line 208 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (disk);
#line 208 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		disk = _tmp9_;
#line 209 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp10_ = domain;
#line 209 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp11_ = disk;
#line 209 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		gvir_config_domain_add_device (_tmp10_, (GVirConfigDomainDevice*) _tmp11_);
#line 2157 "unattended-installer.c"
	}
#line 198 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (disk);
#line 2161 "unattended-installer.c"
}


void boxes_unattended_installer_configure_install_script (BoxesUnattendedInstaller* self, OsinfoInstallScript* script) {
	BoxesUnattendedSetupBox* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gboolean _tmp4_;
	BoxesUnattendedSetupBox* _tmp15_;
	const gchar* _tmp16_;
	const gchar* _tmp17_;
	BoxesUnattendedSetupBox* _tmp26_;
	gchar* _tmp27_;
	gchar* _tmp28_;
	gchar* _tmp29_;
	gboolean _tmp30_;
	const gchar* _tmp36_;
	OsinfoInstallConfig* _tmp39_;
	const gchar* _tmp40_;
	OsinfoInstallConfig* _tmp41_;
	const gchar* _tmp42_;
	OsinfoInstallConfig* _tmp43_;
	const gchar* _tmp44_;
	OsinfoInstallConfig* _tmp45_;
	OsinfoMedia* _tmp46_;
	gchar* _tmp47_;
	gchar* _tmp48_;
	gchar* _tmp49_;
	OsinfoOs* _tmp50_;
	const gchar* _tmp51_;
	const gchar* _tmp52_;
	GVirConfigDomainDisk* disk_config;
	OsinfoInstallScript* _tmp58_;
	OsinfoPathFormat _tmp59_;
	OsinfoPathFormat _tmp60_;
	GVirConfigDomainDisk* _tmp61_;
	gchar* device_path;
	OsinfoInstallScript* _tmp62_;
	OsinfoPathFormat _tmp63_;
	OsinfoPathFormat _tmp64_;
	GVirConfigDomainDisk* _tmp65_;
	const gchar* _tmp66_;
	gchar* _tmp67_;
	OsinfoInstallConfig* _tmp68_;
	const gchar* _tmp69_;
	BoxesUnattendedAvatarFile* _tmp70_;
	OsinfoInstallConfig* _tmp84_;
	OsinfoInstallConfig* _tmp85_;
	const gchar* _tmp86_;
	GFile* _tmp87_;
	OsinfoInstallConfig* _tmp100_;
	gboolean _tmp101_;
#line 213 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (self != NULL);
#line 213 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (script != NULL);
#line 214 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->setup_box;
#line 214 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = boxes_unattended_setup_box_get_password (_tmp0_);
#line 214 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _tmp1_;
#line 214 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = _tmp2_;
#line 214 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = _tmp3_ != NULL;
#line 214 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp3_);
#line 214 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp4_) {
#line 2233 "unattended-installer.c"
		OsinfoInstallConfig* _tmp5_;
		BoxesUnattendedSetupBox* _tmp6_;
		gchar* _tmp7_;
		gchar* _tmp8_;
		gchar* _tmp9_;
		OsinfoInstallConfig* _tmp10_;
		BoxesUnattendedSetupBox* _tmp11_;
		gchar* _tmp12_;
		gchar* _tmp13_;
		gchar* _tmp14_;
#line 215 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp5_ = self->config;
#line 215 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp6_ = self->setup_box;
#line 215 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = boxes_unattended_setup_box_get_password (_tmp6_);
#line 215 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp8_ = _tmp7_;
#line 215 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp9_ = _tmp8_;
#line 215 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_user_password (_tmp5_, _tmp9_);
#line 215 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp9_);
#line 216 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp10_ = self->config;
#line 216 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp11_ = self->setup_box;
#line 216 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp12_ = boxes_unattended_setup_box_get_password (_tmp11_);
#line 216 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp13_ = _tmp12_;
#line 216 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp14_ = _tmp13_;
#line 216 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_admin_password (_tmp10_, _tmp14_);
#line 216 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp14_);
#line 2272 "unattended-installer.c"
	}
#line 218 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp15_ = self->setup_box;
#line 218 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp16_ = boxes_unattended_setup_box_get_username (_tmp15_);
#line 218 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp17_ = _tmp16_;
#line 218 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp17_ != NULL) {
#line 2282 "unattended-installer.c"
		OsinfoInstallConfig* _tmp18_;
		BoxesUnattendedSetupBox* _tmp19_;
		const gchar* _tmp20_;
		const gchar* _tmp21_;
		OsinfoInstallConfig* _tmp22_;
		BoxesUnattendedSetupBox* _tmp23_;
		const gchar* _tmp24_;
		const gchar* _tmp25_;
#line 219 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp18_ = self->config;
#line 219 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp19_ = self->setup_box;
#line 219 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp20_ = boxes_unattended_setup_box_get_username (_tmp19_);
#line 219 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp21_ = _tmp20_;
#line 219 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_user_login (_tmp18_, _tmp21_);
#line 220 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp22_ = self->config;
#line 220 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp23_ = self->setup_box;
#line 220 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp24_ = boxes_unattended_setup_box_get_username (_tmp23_);
#line 220 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp25_ = _tmp24_;
#line 220 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_user_realname (_tmp22_, _tmp25_);
#line 2311 "unattended-installer.c"
	}
#line 222 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp26_ = self->setup_box;
#line 222 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp27_ = boxes_unattended_setup_box_get_product_key (_tmp26_);
#line 222 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp28_ = _tmp27_;
#line 222 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp29_ = _tmp28_;
#line 222 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp30_ = _tmp29_ != NULL;
#line 222 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp29_);
#line 222 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp30_) {
#line 2327 "unattended-installer.c"
		OsinfoInstallConfig* _tmp31_;
		BoxesUnattendedSetupBox* _tmp32_;
		gchar* _tmp33_;
		gchar* _tmp34_;
		gchar* _tmp35_;
#line 223 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp31_ = self->config;
#line 223 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp32_ = self->setup_box;
#line 223 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp33_ = boxes_unattended_setup_box_get_product_key (_tmp32_);
#line 223 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp34_ = _tmp33_;
#line 223 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp35_ = _tmp34_;
#line 223 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_reg_product_key (_tmp31_, _tmp35_);
#line 223 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp35_);
#line 2347 "unattended-installer.c"
	}
#line 224 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp36_ = self->priv->timezone;
#line 224 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp36_ != NULL) {
#line 2353 "unattended-installer.c"
		OsinfoInstallConfig* _tmp37_;
		const gchar* _tmp38_;
#line 225 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp37_ = self->config;
#line 225 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp38_ = self->priv->timezone;
#line 225 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_l10n_timezone (_tmp37_, _tmp38_);
#line 2362 "unattended-installer.c"
	}
#line 226 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp39_ = self->config;
#line 226 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp40_ = self->priv->lang;
#line 226 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	osinfo_install_config_set_l10n_language (_tmp39_, _tmp40_);
#line 227 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp41_ = self->config;
#line 227 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp42_ = self->priv->kbd;
#line 227 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	osinfo_install_config_set_l10n_keyboard (_tmp41_, _tmp42_);
#line 228 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp43_ = self->config;
#line 228 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp44_ = self->priv->hostname;
#line 228 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	osinfo_install_config_set_hostname (_tmp43_, _tmp44_);
#line 229 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp45_ = self->config;
#line 229 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp46_ = ((BoxesInstallerMedia*) self)->os_media;
#line 229 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_get (_tmp46_, "architecture", &_tmp47_, NULL);
#line 229 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp48_ = _tmp47_;
#line 229 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp49_ = _tmp48_;
#line 229 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	osinfo_install_config_set_hardware_arch (_tmp45_, _tmp49_);
#line 229 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp49_);
#line 232 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp50_ = ((BoxesInstallerMedia*) self)->os;
#line 232 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp51_ = osinfo_os_get_distro (_tmp50_);
#line 232 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp52_ = _tmp51_;
#line 232 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (g_strcmp0 (_tmp52_, "win") == 0) {
#line 2404 "unattended-installer.c"
		OsinfoInstallConfig* _tmp53_;
#line 233 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp53_ = self->config;
#line 233 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_target_disk (_tmp53_, "C");
#line 2410 "unattended-installer.c"
	} else {
		const gchar* _tmp54_ = NULL;
		gboolean _tmp55_;
		gboolean _tmp56_;
		OsinfoInstallConfig* _tmp57_;
#line 235 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp55_ = boxes_installer_media_get_supports_virtio_disk ((BoxesInstallerMedia*) self);
#line 235 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp56_ = _tmp55_;
#line 235 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp56_) {
#line 235 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp54_ = "/dev/vda";
#line 2424 "unattended-installer.c"
		} else {
#line 235 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp54_ = "/dev/sda";
#line 2428 "unattended-installer.c"
		}
#line 235 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp57_ = self->config;
#line 235 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_target_disk (_tmp57_, _tmp54_);
#line 2434 "unattended-installer.c"
	}
#line 237 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp58_ = script;
#line 237 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp59_ = osinfo_install_script_get_path_format (_tmp58_);
#line 237 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp60_ = _tmp59_;
#line 237 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp61_ = boxes_unattended_installer_get_unattended_disk_config (self, _tmp60_);
#line 237 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	disk_config = _tmp61_;
#line 238 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp62_ = script;
#line 238 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp63_ = osinfo_install_script_get_path_format (_tmp62_);
#line 238 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp64_ = _tmp63_;
#line 238 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp65_ = disk_config;
#line 238 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp66_ = gvir_config_domain_disk_get_target_dev (_tmp65_);
#line 238 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp67_ = boxes_unattended_installer_device_name_to_path (self, _tmp64_, _tmp66_);
#line 238 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	device_path = _tmp67_;
#line 239 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp68_ = self->config;
#line 239 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp69_ = device_path;
#line 239 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	osinfo_install_config_set_script_disk (_tmp68_, _tmp69_);
#line 241 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp70_ = self->priv->avatar_file;
#line 241 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp70_ != NULL) {
#line 2470 "unattended-installer.c"
		const gchar* _tmp71_ = NULL;
		OsinfoInstallScript* _tmp72_;
		OsinfoPathFormat _tmp73_;
		OsinfoPathFormat _tmp74_;
		gchar* location;
		BoxesUnattendedAvatarFile* _tmp75_;
		const gchar* _tmp76_;
		const gchar* _tmp77_;
		gchar* _tmp78_;
		OsinfoInstallConfig* _tmp79_;
		const gchar* _tmp80_;
		OsinfoInstallConfig* _tmp81_;
		OsinfoInstallConfig* _tmp82_;
		const gchar* _tmp83_;
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp72_ = script;
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp73_ = osinfo_install_script_get_path_format (_tmp72_);
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp74_ = _tmp73_;
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp74_ == OSINFO_PATH_FORMAT_UNIX) {
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp71_ = "/";
#line 2495 "unattended-installer.c"
		} else {
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp71_ = "\\";
#line 2499 "unattended-installer.c"
		}
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp75_ = self->priv->avatar_file;
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp76_ = boxes_unattended_file_get_dest_name ((BoxesUnattendedFile*) _tmp75_);
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp77_ = _tmp76_;
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp78_ = g_strconcat (_tmp71_, _tmp77_, NULL);
#line 242 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		location = _tmp78_;
#line 243 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp79_ = self->config;
#line 243 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp80_ = location;
#line 243 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_avatar_location (_tmp79_, _tmp80_);
#line 244 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp81_ = self->config;
#line 244 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp82_ = self->config;
#line 244 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp83_ = osinfo_install_config_get_script_disk (_tmp82_);
#line 244 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_avatar_disk (_tmp81_, _tmp83_);
#line 241 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (location);
#line 2527 "unattended-installer.c"
	}
#line 247 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp84_ = self->config;
#line 247 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp85_ = self->config;
#line 247 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp86_ = osinfo_install_config_get_script_disk (_tmp85_);
#line 247 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	osinfo_install_config_set_pre_install_drivers_disk (_tmp84_, _tmp86_);
#line 248 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp87_ = self->secondary_disk_file;
#line 248 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp87_ != NULL) {
#line 2541 "unattended-installer.c"
		OsinfoInstallScript* _tmp88_;
		OsinfoPathFormat _tmp89_;
		OsinfoPathFormat _tmp90_;
		GVirConfigDomainDisk* _tmp91_;
		OsinfoInstallScript* _tmp92_;
		OsinfoPathFormat _tmp93_;
		OsinfoPathFormat _tmp94_;
		GVirConfigDomainDisk* _tmp95_;
		const gchar* _tmp96_;
		gchar* _tmp97_;
		OsinfoInstallConfig* _tmp98_;
		const gchar* _tmp99_;
#line 249 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp88_ = script;
#line 249 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp89_ = osinfo_install_script_get_path_format (_tmp88_);
#line 249 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp90_ = _tmp89_;
#line 249 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp91_ = boxes_unattended_installer_get_secondary_unattended_disk_config (self, _tmp90_);
#line 249 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (disk_config);
#line 249 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		disk_config = _tmp91_;
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp92_ = script;
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp93_ = osinfo_install_script_get_path_format (_tmp92_);
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp94_ = _tmp93_;
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp95_ = disk_config;
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp96_ = gvir_config_domain_disk_get_target_dev (_tmp95_);
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp97_ = boxes_unattended_installer_device_name_to_path (self, _tmp94_, _tmp96_);
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (device_path);
#line 250 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		device_path = _tmp97_;
#line 251 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp98_ = self->config;
#line 251 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp99_ = device_path;
#line 251 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		osinfo_install_config_set_post_install_drivers_disk (_tmp98_, _tmp99_);
#line 2588 "unattended-installer.c"
	}
#line 254 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp100_ = self->config;
#line 254 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp101_ = self->priv->driver_signing;
#line 254 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	osinfo_install_config_set_driver_signing (_tmp100_, _tmp101_);
#line 213 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (device_path);
#line 213 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (disk_config);
#line 2600 "unattended-installer.c"
}


static void boxes_unattended_installer_real_setup_post_install_domain_config (BoxesInstallerMedia* base, GVirConfigDomain* domain) {
	BoxesUnattendedInstaller * self;
	GFile* _tmp0_;
	GFile* _tmp5_;
	GVirConfigDomain* _tmp10_;
#line 257 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 257 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (domain != NULL);
#line 258 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->disk_file;
#line 258 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp0_ != NULL) {
#line 2617 "unattended-installer.c"
		gchar* path;
		GFile* _tmp1_;
		gchar* _tmp2_;
		GVirConfigDomain* _tmp3_;
		const gchar* _tmp4_;
#line 259 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp1_ = self->disk_file;
#line 259 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp2_ = g_file_get_path (_tmp1_);
#line 259 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		path = _tmp2_;
#line 260 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp3_ = domain;
#line 260 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp4_ = path;
#line 260 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_installer_remove_disk_from_domain_config (self, _tmp3_, _tmp4_);
#line 258 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (path);
#line 2637 "unattended-installer.c"
	}
#line 262 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = self->secondary_disk_file;
#line 262 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp5_ != NULL) {
#line 2643 "unattended-installer.c"
		gchar* path;
		GFile* _tmp6_;
		gchar* _tmp7_;
		GVirConfigDomain* _tmp8_;
		const gchar* _tmp9_;
#line 263 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp6_ = self->secondary_disk_file;
#line 263 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = g_file_get_path (_tmp6_);
#line 263 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		path = _tmp7_;
#line 264 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp8_ = domain;
#line 264 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp9_ = path;
#line 264 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_installer_remove_disk_from_domain_config (self, _tmp8_, _tmp9_);
#line 262 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (path);
#line 2663 "unattended-installer.c"
	}
#line 267 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp10_ = domain;
#line 267 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	BOXES_INSTALLER_MEDIA_CLASS (boxes_unattended_installer_parent_class)->setup_post_install_domain_config (G_TYPE_CHECK_INSTANCE_CAST (self, BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMedia), _tmp10_);
#line 2669 "unattended-installer.c"
}


static void boxes_unattended_installer_real_populate_setup_box (BoxesInstallerMedia* base, GtkBox* setup_box) {
	BoxesUnattendedInstaller * self;
	GtkBox* _tmp0_;
	GList* _tmp1_;
	GtkBox* _tmp4_;
	BoxesUnattendedSetupBox* _tmp5_;
	GtkBox* _tmp6_;
#line 270 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 270 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (setup_box != NULL);
#line 271 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = setup_box;
#line 271 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = gtk_container_get_children ((GtkContainer*) _tmp0_);
#line 2688 "unattended-installer.c"
	{
		GList* child_collection = NULL;
		GList* child_it = NULL;
#line 271 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		child_collection = _tmp1_;
#line 271 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (child_it = child_collection; child_it != NULL; child_it = child_it->next) {
#line 2696 "unattended-installer.c"
			GtkWidget* child = NULL;
#line 271 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			child = (GtkWidget*) child_it->data;
#line 2700 "unattended-installer.c"
			{
				GtkBox* _tmp2_;
				GtkWidget* _tmp3_;
#line 272 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp2_ = setup_box;
#line 272 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp3_ = child;
#line 272 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				gtk_container_remove ((GtkContainer*) _tmp2_, _tmp3_);
#line 2710 "unattended-installer.c"
			}
		}
#line 271 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_list_free0 (child_collection);
#line 2715 "unattended-installer.c"
	}
#line 274 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = setup_box;
#line 274 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = self->setup_box;
#line 274 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gtk_container_add ((GtkContainer*) _tmp4_, (GtkWidget*) _tmp5_);
#line 275 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = setup_box;
#line 275 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gtk_widget_show ((GtkWidget*) _tmp6_);
#line 2727 "unattended-installer.c"
}


static void _boxes_pair_unref0_ (gpointer var) {
#line 278 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(var == NULL) ? NULL : (var = (boxes_pair_unref (var), NULL));
#line 2734 "unattended-installer.c"
}


static void _g_list_free__boxes_pair_unref0_ (GList* self) {
#line 278 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_list_foreach (self, (GFunc) _boxes_pair_unref0_, NULL);
#line 278 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_list_free (self);
#line 2743 "unattended-installer.c"
}


static GList* boxes_unattended_installer_real_get_vm_properties (BoxesInstallerMedia* base) {
	BoxesUnattendedInstaller * self;
	GList* result = NULL;
	GList* properties;
	GList* _tmp0_;
	BoxesUnattendedSetupBox* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
#line 278 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 279 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = BOXES_INSTALLER_MEDIA_CLASS (boxes_unattended_installer_parent_class)->get_vm_properties (G_TYPE_CHECK_INSTANCE_CAST (self, BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMedia));
#line 279 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	properties = _tmp0_;
#line 281 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = self->setup_box;
#line 281 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = boxes_unattended_setup_box_get_express_install (_tmp1_);
#line 281 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = _tmp2_;
#line 281 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp3_) {
#line 2769 "unattended-installer.c"
		BoxesUnattendedSetupBox* _tmp4_;
		const gchar* _tmp5_;
		const gchar* _tmp6_;
		BoxesPair* _tmp7_;
		BoxesUnattendedSetupBox* _tmp8_;
		gchar* _tmp9_;
		gchar* _tmp10_;
		gchar* _tmp11_;
		BoxesPair* _tmp12_;
#line 282 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp4_ = self->setup_box;
#line 282 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp5_ = boxes_unattended_setup_box_get_username (_tmp4_);
#line 282 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp6_ = _tmp5_;
#line 282 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = boxes_pair_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, _ ("Username"), _tmp6_);
#line 282 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		properties = g_list_append (properties, _tmp7_);
#line 283 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp8_ = self->setup_box;
#line 283 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp9_ = boxes_unattended_setup_box_get_hidden_password (_tmp8_);
#line 283 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp10_ = _tmp9_;
#line 283 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp11_ = _tmp10_;
#line 283 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp12_ = boxes_pair_new (G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, G_TYPE_STRING, (GBoxedCopyFunc) g_strdup, g_free, _ ("Password"), _tmp11_);
#line 283 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		properties = g_list_append (properties, _tmp12_);
#line 283 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp11_);
#line 2803 "unattended-installer.c"
	}
#line 286 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = properties;
#line 286 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 2809 "unattended-installer.c"
}


static void boxes_unattended_installer_real_set_direct_boot_params (BoxesInstallerMedia* base, GVirConfigDomainOs* domain_os) {
	BoxesUnattendedInstaller * self;
	gboolean _tmp0_ = FALSE;
	GFile* _tmp1_;
	OsinfoInstallScript* script;
	OsinfoInstallScriptList* _tmp3_;
	OsinfoEntity* _tmp4_;
	OsinfoInstallScript* _tmp5_;
	GVirConfigDomainOs* _tmp6_;
	GFile* _tmp7_;
	gchar* _tmp8_;
	gchar* _tmp9_;
	GVirConfigDomainOs* _tmp10_;
	GFile* _tmp11_;
	gchar* _tmp12_;
	gchar* _tmp13_;
	GVirConfigDomainOs* _tmp14_;
	OsinfoInstallScript* _tmp15_;
	OsinfoMedia* _tmp16_;
	OsinfoInstallConfig* _tmp17_;
	gchar* _tmp18_;
	gchar* _tmp19_;
#line 289 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 289 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (domain_os != NULL);
#line 290 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = self->kernel_file;
#line 290 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp1_ == NULL) {
#line 290 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp0_ = TRUE;
#line 2845 "unattended-installer.c"
	} else {
		GFile* _tmp2_;
#line 290 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp2_ = self->initrd_file;
#line 290 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp0_ = _tmp2_ == NULL;
#line 2852 "unattended-installer.c"
	}
#line 290 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp0_) {
#line 291 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return;
#line 2858 "unattended-installer.c"
	}
#line 293 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = self->scripts;
#line 293 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = osinfo_list_get_nth ((OsinfoList*) _tmp3_, 0);
#line 293 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, osinfo_install_script_get_type ()) ? ((OsinfoInstallScript*) _tmp4_) : NULL);
#line 293 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	script = _tmp5_;
#line 295 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = domain_os;
#line 295 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp7_ = self->kernel_file;
#line 295 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp8_ = g_file_get_path (_tmp7_);
#line 295 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp9_ = _tmp8_;
#line 295 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_os_set_kernel (_tmp6_, _tmp9_);
#line 295 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp9_);
#line 296 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp10_ = domain_os;
#line 296 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp11_ = self->initrd_file;
#line 296 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp12_ = g_file_get_path (_tmp11_);
#line 296 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp13_ = _tmp12_;
#line 296 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_os_set_ramdisk (_tmp10_, _tmp13_);
#line 296 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp13_);
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp14_ = domain_os;
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp15_ = script;
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp16_ = ((BoxesInstallerMedia*) self)->os_media;
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp17_ = self->config;
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp18_ = osinfo_install_script_generate_command_line_for_media (_tmp15_, _tmp16_, _tmp17_);
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp19_ = _tmp18_;
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_os_set_cmdline (_tmp14_, _tmp19_);
#line 297 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp19_);
#line 289 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (script);
#line 2910 "unattended-installer.c"
}


static void boxes_unattended_installer_real_clean_up (BoxesInstallerMedia* base) {
	BoxesUnattendedInstaller * self;
	BoxesUnattendedSetupBox* _tmp0_;
	GError * _inner_error_ = NULL;
#line 300 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 301 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	BOXES_INSTALLER_MEDIA_CLASS (boxes_unattended_installer_parent_class)->clean_up (G_TYPE_CHECK_INSTANCE_CAST (self, BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMedia));
#line 303 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->setup_box;
#line 303 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_setup_box_clean_up (_tmp0_);
#line 2926 "unattended-installer.c"
	{
		GFile* _tmp1_;
		GFile* _tmp3_;
		GFile* _tmp5_;
		GFile* _tmp7_;
#line 306 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp1_ = self->disk_file;
#line 306 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp1_ != NULL) {
#line 2936 "unattended-installer.c"
			GFile* _tmp2_;
#line 307 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp2_ = self->disk_file;
#line 307 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_delete_file (_tmp2_, &_inner_error_);
#line 307 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 2944 "unattended-installer.c"
				goto __catch81_g_error;
			}
#line 308 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (self->disk_file);
#line 308 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			self->disk_file = NULL;
#line 2951 "unattended-installer.c"
		}
#line 311 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp3_ = self->secondary_disk_file;
#line 311 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp3_ != NULL) {
#line 2957 "unattended-installer.c"
			GFile* _tmp4_;
#line 312 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp4_ = self->secondary_disk_file;
#line 312 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_delete_file (_tmp4_, &_inner_error_);
#line 312 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 2965 "unattended-installer.c"
				goto __catch81_g_error;
			}
#line 313 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (self->secondary_disk_file);
#line 313 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			self->secondary_disk_file = NULL;
#line 2972 "unattended-installer.c"
		}
#line 316 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp5_ = self->kernel_file;
#line 316 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp5_ != NULL) {
#line 2978 "unattended-installer.c"
			GFile* _tmp6_;
#line 317 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp6_ = self->kernel_file;
#line 317 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_delete_file (_tmp6_, &_inner_error_);
#line 317 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 2986 "unattended-installer.c"
				goto __catch81_g_error;
			}
#line 318 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (self->kernel_file);
#line 318 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			self->kernel_file = NULL;
#line 2993 "unattended-installer.c"
		}
#line 321 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = self->initrd_file;
#line 321 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp7_ != NULL) {
#line 2999 "unattended-installer.c"
			GFile* _tmp8_;
#line 322 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp8_ = self->initrd_file;
#line 322 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_delete_file (_tmp8_, &_inner_error_);
#line 322 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 3007 "unattended-installer.c"
				goto __catch81_g_error;
			}
#line 323 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (self->initrd_file);
#line 323 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			self->initrd_file = NULL;
#line 3014 "unattended-installer.c"
		}
	}
	goto __finally81;
	__catch81_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp9_;
		const gchar* _tmp10_;
#line 305 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_error_ = _inner_error_;
#line 305 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_inner_error_ = NULL;
#line 326 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp9_ = _error_;
#line 326 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp10_ = _tmp9_->message;
#line 326 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_debug ("unattended-installer.vala:326: Failed to clean-up: %s", _tmp10_);
#line 305 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_error_free0 (_error_);
#line 3035 "unattended-installer.c"
	}
	__finally81:
#line 305 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 305 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 305 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_clear_error (&_inner_error_);
#line 305 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return;
#line 3046 "unattended-installer.c"
	}
}


static void boxes_unattended_installer_real_clean_up_preparation_cache (BoxesInstallerMedia* base) {
	BoxesUnattendedInstaller * self;
#line 330 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 331 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	BOXES_INSTALLER_MEDIA_CLASS (boxes_unattended_installer_parent_class)->clean_up_preparation_cache (G_TYPE_CHECK_INSTANCE_CAST (self, BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMedia));
#line 333 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (self->priv->unattended_files);
#line 333 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->unattended_files = NULL;
#line 334 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (self->priv->secondary_unattended_files);
#line 334 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->secondary_unattended_files = NULL;
#line 3065 "unattended-installer.c"
}


gchar* boxes_unattended_installer_get_user_unattended (BoxesUnattendedInstaller* self, const gchar* suffix) {
	gchar* result = NULL;
	gchar* filename;
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	const gchar* _tmp8_;
	gchar* _tmp9_;
#line 337 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 338 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->priv->hostname;
#line 338 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 338 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	filename = _tmp1_;
#line 339 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = suffix;
#line 339 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp2_ != NULL) {
#line 3089 "unattended-installer.c"
		const gchar* _tmp3_;
		const gchar* _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		gchar* _tmp7_;
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp3_ = filename;
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp4_ = suffix;
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp5_ = g_strconcat ("-", _tmp4_, NULL);
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp6_ = _tmp5_;
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = g_strconcat (_tmp3_, _tmp6_, NULL);
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (filename);
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		filename = _tmp7_;
#line 340 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp6_);
#line 3111 "unattended-installer.c"
	}
#line 342 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp8_ = filename;
#line 342 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp9_ = boxes_get_user_pkgcache (_tmp8_);
#line 342 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp9_;
#line 342 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (filename);
#line 342 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 3123 "unattended-installer.c"
}


static void boxes_unattended_installer_real_prepare_data_free (gpointer _data) {
	BoxesUnattendedInstallerPrepareData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerPrepareData, _data_);
#line 3138 "unattended-installer.c"
}


static void boxes_unattended_installer_real_prepare (BoxesInstallerMedia* base, BoxesActivityProgress* progress, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstaller * self;
	BoxesUnattendedInstallerPrepareData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
	BoxesActivityProgress* _tmp1_;
	BoxesActivityProgress* _tmp2_;
	GCancellable* _tmp3_;
	GCancellable* _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerPrepareData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 3160 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_real_prepare_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = progress;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->progress = _tmp2_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = cancellable;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->cancellable = _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_real_prepare_co (_data_);
#line 3186 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_real_prepare_finish (BoxesInstallerMedia* base, GAsyncResult* _res_) {
	gboolean result;
	BoxesUnattendedInstallerPrepareData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (NULL == _data_) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 3199 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _data_->result;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 3207 "unattended-installer.c"
}


static void boxes_unattended_installer_prepare_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerPrepareData* _data_;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_real_prepare_co (_data_);
#line 3223 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_real_prepare_co (BoxesUnattendedInstallerPrepareData* _data_) {
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 3232 "unattended-installer.c"
		goto _state_0;
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 3236 "unattended-installer.c"
		goto _state_1;
		default:
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 3241 "unattended-installer.c"
	}
	_state_0:
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = _data_->progress;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = _data_->cancellable;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_state_ = 1;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_setup_drivers (_data_->self, _data_->_tmp0_, _data_->_tmp1_, boxes_unattended_installer_prepare_ready, _data_);
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 3254 "unattended-installer.c"
	_state_1:
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp2_ = boxes_unattended_installer_setup_drivers_finish (_data_->self, _data_->_res_);
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->result = _data_->_tmp2_;
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3268 "unattended-installer.c"
		}
	}
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 347 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3283 "unattended-installer.c"
		}
	}
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 345 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 3290 "unattended-installer.c"
}


static GVirConfigDomainDisk* boxes_unattended_installer_get_unattended_disk_config (BoxesUnattendedInstaller* self, OsinfoPathFormat path_format) {
	GVirConfigDomainDisk* result = NULL;
	GVirConfigDomainDisk* disk;
	GVirConfigDomainDisk* _tmp0_;
	GVirConfigDomainDisk* _tmp1_;
	GVirConfigDomainDisk* _tmp2_;
	GVirConfigDomainDisk* _tmp3_;
	GVirConfigDomainDisk* _tmp4_;
	GFile* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	OsinfoInstallScriptInjectionMethod _tmp8_;
	OsinfoInstallScriptInjectionMethod _tmp9_;
#line 350 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 351 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = gvir_config_domain_disk_new ();
#line 351 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	disk = _tmp0_;
#line 352 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = disk;
#line 352 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_type (_tmp1_, GVIR_CONFIG_DOMAIN_DISK_FILE);
#line 353 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = disk;
#line 353 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_driver_name (_tmp2_, "qemu");
#line 354 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = disk;
#line 354 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_driver_format (_tmp3_, GVIR_CONFIG_DOMAIN_DISK_FORMAT_RAW);
#line 355 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = disk;
#line 355 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = self->disk_file;
#line 355 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = g_file_get_path (_tmp5_);
#line 355 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp7_ = _tmp6_;
#line 355 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_source (_tmp4_, _tmp7_);
#line 355 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp7_);
#line 357 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp8_ = boxes_unattended_installer_get_injection_method (self);
#line 357 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp9_ = _tmp8_;
#line 357 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp9_ == OSINFO_INSTALL_SCRIPT_INJECTION_METHOD_FLOPPY) {
#line 3343 "unattended-installer.c"
		const gchar* _tmp10_ = NULL;
		OsinfoPathFormat _tmp11_;
		GVirConfigDomainDisk* _tmp12_;
		GVirConfigDomainDisk* _tmp13_;
		GVirConfigDomainDisk* _tmp14_;
#line 358 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp11_ = path_format;
#line 358 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp11_ == OSINFO_PATH_FORMAT_DOS) {
#line 358 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp10_ = "A";
#line 3355 "unattended-installer.c"
		} else {
#line 358 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp10_ = "fd0";
#line 3359 "unattended-installer.c"
		}
#line 358 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp12_ = disk;
#line 358 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		gvir_config_domain_disk_set_target_dev (_tmp12_, _tmp10_);
#line 359 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp13_ = disk;
#line 359 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		gvir_config_domain_disk_set_guest_device_type (_tmp13_, GVIR_CONFIG_DOMAIN_DISK_GUEST_DEVICE_FLOPPY);
#line 360 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp14_ = disk;
#line 360 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		gvir_config_domain_disk_set_target_bus (_tmp14_, GVIR_CONFIG_DOMAIN_DISK_BUS_FDC);
#line 3373 "unattended-installer.c"
	} else {
		gboolean _tmp15_;
		gboolean _tmp16_;
		GVirConfigDomainDisk* _tmp23_;
		GVirConfigDomainDisk* _tmp24_;
#line 363 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp15_ = boxes_installer_media_get_supports_virtio_disk ((BoxesInstallerMedia*) self);
#line 363 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp16_ = _tmp15_;
#line 363 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp16_) {
#line 3385 "unattended-installer.c"
			const gchar* _tmp17_ = NULL;
			OsinfoPathFormat _tmp18_;
			GVirConfigDomainDisk* _tmp19_;
#line 364 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp18_ = path_format;
#line 364 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (_tmp18_ == OSINFO_PATH_FORMAT_UNIX) {
#line 364 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp17_ = "sda";
#line 3395 "unattended-installer.c"
			} else {
#line 364 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp17_ = "E";
#line 3399 "unattended-installer.c"
			}
#line 364 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp19_ = disk;
#line 364 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			gvir_config_domain_disk_set_target_dev (_tmp19_, _tmp17_);
#line 3405 "unattended-installer.c"
		} else {
			const gchar* _tmp20_ = NULL;
			OsinfoPathFormat _tmp21_;
			GVirConfigDomainDisk* _tmp22_;
#line 366 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp21_ = path_format;
#line 366 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (_tmp21_ == OSINFO_PATH_FORMAT_UNIX) {
#line 366 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp20_ = "sdb";
#line 3416 "unattended-installer.c"
			} else {
#line 366 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp20_ = "E";
#line 3420 "unattended-installer.c"
			}
#line 366 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp22_ = disk;
#line 366 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			gvir_config_domain_disk_set_target_dev (_tmp22_, _tmp20_);
#line 3426 "unattended-installer.c"
		}
#line 367 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp23_ = disk;
#line 367 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		gvir_config_domain_disk_set_guest_device_type (_tmp23_, GVIR_CONFIG_DOMAIN_DISK_GUEST_DEVICE_DISK);
#line 368 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp24_ = disk;
#line 368 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		gvir_config_domain_disk_set_target_bus (_tmp24_, GVIR_CONFIG_DOMAIN_DISK_BUS_USB);
#line 3436 "unattended-installer.c"
	}
#line 371 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = disk;
#line 371 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 3442 "unattended-installer.c"
}


static GVirConfigDomainDisk* boxes_unattended_installer_get_secondary_unattended_disk_config (BoxesUnattendedInstaller* self, OsinfoPathFormat path_format) {
	GVirConfigDomainDisk* result = NULL;
	GVirConfigDomainDisk* disk;
	GVirConfigDomainDisk* _tmp0_;
	GVirConfigDomainDisk* _tmp1_;
	GVirConfigDomainDisk* _tmp2_;
	GVirConfigDomainDisk* _tmp3_;
	GVirConfigDomainDisk* _tmp4_;
	GFile* _tmp5_;
	gchar* _tmp6_;
	gchar* _tmp7_;
	const gchar* _tmp8_ = NULL;
	OsinfoPathFormat _tmp9_;
	GVirConfigDomainDisk* _tmp10_;
	GVirConfigDomainDisk* _tmp11_;
	GVirConfigDomainDisk* _tmp12_;
#line 374 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 375 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = gvir_config_domain_disk_new ();
#line 375 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	disk = _tmp0_;
#line 376 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = disk;
#line 376 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_type (_tmp1_, GVIR_CONFIG_DOMAIN_DISK_FILE);
#line 377 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = disk;
#line 377 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_driver_name (_tmp2_, "qemu");
#line 378 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = disk;
#line 378 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_driver_format (_tmp3_, GVIR_CONFIG_DOMAIN_DISK_FORMAT_RAW);
#line 379 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = disk;
#line 379 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = self->secondary_disk_file;
#line 379 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = g_file_get_path (_tmp5_);
#line 379 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp7_ = _tmp6_;
#line 379 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_source (_tmp4_, _tmp7_);
#line 379 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_tmp7_);
#line 380 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp9_ = path_format;
#line 380 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp9_ == OSINFO_PATH_FORMAT_DOS) {
#line 380 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp8_ = "E";
#line 3498 "unattended-installer.c"
	} else {
#line 380 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp8_ = "hdd";
#line 3502 "unattended-installer.c"
	}
#line 380 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp10_ = disk;
#line 380 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_target_dev (_tmp10_, _tmp8_);
#line 381 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp11_ = disk;
#line 381 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_guest_device_type (_tmp11_, GVIR_CONFIG_DOMAIN_DISK_GUEST_DEVICE_CDROM);
#line 382 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp12_ = disk;
#line 382 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_disk_set_target_bus (_tmp12_, GVIR_CONFIG_DOMAIN_DISK_BUS_IDE);
#line 384 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = disk;
#line 384 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 3520 "unattended-installer.c"
}


static gchar* boxes_unattended_installer_device_name_to_path (BoxesUnattendedInstaller* self, OsinfoPathFormat path_format, const gchar* name) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	OsinfoPathFormat _tmp1_;
#line 387 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 387 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (name != NULL, NULL);
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = path_format;
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp1_ == OSINFO_PATH_FORMAT_UNIX) {
#line 3536 "unattended-installer.c"
		const gchar* _tmp2_;
		gchar* _tmp3_;
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp2_ = name;
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp3_ = g_strconcat ("/dev/", _tmp2_, NULL);
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp0_);
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp0_ = _tmp3_;
#line 3547 "unattended-installer.c"
	} else {
		const gchar* _tmp4_;
		gchar* _tmp5_;
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp4_ = name;
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp5_ = g_strdup (_tmp4_);
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_tmp0_);
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp0_ = _tmp5_;
#line 3559 "unattended-installer.c"
	}
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp0_;
#line 388 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 3565 "unattended-installer.c"
}


static void boxes_unattended_installer_add_unattended_file (BoxesUnattendedInstaller* self, BoxesUnattendedFile* file) {
	BoxesUnattendedFile* _tmp0_;
	BoxesUnattendedFile* _tmp1_;
#line 391 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (self != NULL);
#line 391 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (file != NULL);
#line 392 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = file;
#line 392 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 392 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->unattended_files = g_list_append (self->priv->unattended_files, _tmp1_);
#line 3582 "unattended-installer.c"
}


static void boxes_unattended_installer_add_secondary_unattended_file (BoxesUnattendedInstaller* self, BoxesUnattendedFile* file) {
	BoxesUnattendedFile* _tmp0_;
	BoxesUnattendedFile* _tmp1_;
#line 395 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (self != NULL);
#line 395 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (file != NULL);
#line 396 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = file;
#line 396 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 396 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->secondary_unattended_files = g_list_append (self->priv->secondary_unattended_files, _tmp1_);
#line 3599 "unattended-installer.c"
}


static void boxes_unattended_installer_create_disk_image_data_free (gpointer _data) {
	BoxesUnattendedInstallerCreateDiskImageData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerCreateDiskImageData, _data_);
#line 3612 "unattended-installer.c"
}


static void boxes_unattended_installer_create_disk_image (BoxesUnattendedInstaller* self, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstallerCreateDiskImageData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
	GCancellable* _tmp1_;
	GCancellable* _tmp2_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerCreateDiskImageData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 3629 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_create_disk_image_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = cancellable;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->cancellable = _tmp2_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_create_disk_image_co (_data_);
#line 3647 "unattended-installer.c"
}


static void boxes_unattended_installer_create_disk_image_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_, GError** error) {
	BoxesUnattendedInstallerCreateDiskImageData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (NULL == _data_) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return;
#line 3659 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 3663 "unattended-installer.c"
}


static void boxes_unattended_installer_create_disk_image_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerCreateDiskImageData* _data_;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_create_disk_image_co (_data_);
#line 3679 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_create_disk_image_co (BoxesUnattendedInstallerCreateDiskImageData* _data_) {
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 3688 "unattended-installer.c"
		goto _state_0;
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 3692 "unattended-installer.c"
		goto _state_1;
		default:
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 3697 "unattended-installer.c"
	}
	_state_0:
#line 400 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = boxes_get_unattended ("disk.img");
#line 400 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->template_path = _data_->_tmp0_;
#line 401 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = g_file_new_for_path (_data_->template_path);
#line 401 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->template_file = _data_->_tmp1_;
#line 403 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp2_ = _data_->self->disk_file;
#line 403 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp3_ = g_file_get_path (_data_->_tmp2_);
#line 403 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp4_ = _data_->_tmp3_;
#line 403 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_debug ("unattended-installer.vala:403: Creating disk image for unattended inst" \
"allation at '%s'..", _data_->_tmp4_);
#line 403 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->_tmp4_);
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp5_ = _data_->self->disk_file;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp6_ = _data_->cancellable;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_state_ = 1;
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_file_copy_async (_data_->template_file, _data_->_tmp5_, G_FILE_COPY_OVERWRITE, G_PRIORITY_DEFAULT, _data_->_tmp6_, NULL, NULL, boxes_unattended_installer_create_disk_image_ready, _data_);
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 3728 "unattended-installer.c"
	_state_1:
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_file_copy_finish (_data_->template_file, _data_->_res_, &_data_->_inner_error_);
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->template_file);
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->template_path);
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_unref (_data_->_async_result);
#line 404 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 3744 "unattended-installer.c"
	}
#line 405 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp7_ = _data_->self->disk_file;
#line 405 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp8_ = g_file_get_path (_data_->_tmp7_);
#line 405 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp9_ = _data_->_tmp8_;
#line 405 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_debug ("unattended-installer.vala:405: Floppy image for unattended installatio" \
"n created at '%s'", _data_->_tmp9_);
#line 405 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->_tmp9_);
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->template_file);
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->template_path);
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3768 "unattended-installer.c"
		}
	}
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 399 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 3775 "unattended-installer.c"
}


static void boxes_unattended_installer_fetch_user_avatar_data_free (gpointer _data) {
	BoxesUnattendedInstallerFetchUserAvatarData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerFetchUserAvatarData, _data_);
#line 3786 "unattended-installer.c"
}


static void boxes_unattended_installer_fetch_user_avatar (BoxesUnattendedInstaller* self, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstallerFetchUserAvatarData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerFetchUserAvatarData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 3801 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_fetch_user_avatar_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_fetch_user_avatar_co (_data_);
#line 3811 "unattended-installer.c"
}


static void boxes_unattended_installer_fetch_user_avatar_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_) {
	BoxesUnattendedInstallerFetchUserAvatarData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 3821 "unattended-installer.c"
}


static void boxes_unattended_installer_fetch_user_avatar_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerFetchUserAvatarData* _data_;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_fetch_user_avatar_co (_data_);
#line 3837 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_fetch_user_avatar_co (BoxesUnattendedInstallerFetchUserAvatarData* _data_) {
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 3846 "unattended-installer.c"
		goto _state_0;
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 3850 "unattended-installer.c"
		goto _state_1;
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 2:
#line 3854 "unattended-installer.c"
		goto _state_2;
		default:
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 3859 "unattended-installer.c"
	}
	_state_0:
#line 409 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = boxes_unattended_installer_accounts;
#line 409 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_tmp0_ == NULL) {
#line 410 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 410 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_data_->_state_ != 0) {
#line 410 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			while (_data_->_task_complete_ != TRUE) {
#line 410 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3874 "unattended-installer.c"
			}
		}
#line 410 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_unref (_data_->_async_result);
#line 410 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 3881 "unattended-installer.c"
	}
#line 412 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = g_get_user_name ();
#line 412 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp2_ = g_strdup (_data_->_tmp1_);
#line 412 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->username = _data_->_tmp2_;
#line 413 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp3_ = _data_->username;
#line 413 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp4_ = g_strconcat ("/var/lib/AccountsService/icons/", _data_->_tmp3_, NULL);
#line 413 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->avatar_path = _data_->_tmp4_;
#line 3895 "unattended-installer.c"
	{
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp5_ = boxes_unattended_installer_accounts;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp6_ = g_get_user_name ();
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_state_ = 1;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_fdo_accounts_FindUserByName (_data_->_tmp5_, _data_->_tmp6_, boxes_unattended_installer_fetch_user_avatar_ready, _data_);
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 3907 "unattended-installer.c"
		_state_1:
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp7_ = boxes_fdo_accounts_FindUserByName_finish (_data_->_tmp5_, _data_->_res_, &_data_->_inner_error_);
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->path = _data_->_tmp7_;
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (_data_->_inner_error_->domain == G_IO_ERROR) {
#line 3917 "unattended-installer.c"
				goto __catch82_g_io_error;
			}
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->avatar_path);
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->username);
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_clear_error (&_data_->_inner_error_);
#line 416 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			return FALSE;
#line 3930 "unattended-installer.c"
		}
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp8_ = _data_->path;
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_state_ = 2;
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_async_initable_new_async (BOXES_FDO_TYPE_ACCOUNTS_USER_PROXY, 0, NULL, boxes_unattended_installer_fetch_user_avatar_ready, _data_, "g-flags", 0, "g-name", "org.freedesktop.Accounts", "g-bus-type", G_BUS_TYPE_SYSTEM, "g-object-path", _data_->_tmp8_, "g-interface-name", "org.freedesktop.Accounts.User", "g-interface-info", g_type_get_qdata (BOXES_FDO_TYPE_ACCOUNTS_USER, g_quark_from_static_string ("vala-dbus-interface-info")), NULL);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 3940 "unattended-installer.c"
		_state_2:
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp9_ = g_async_initable_new_finish (_data_->_source_object_, _data_->_res_, &_data_->_inner_error_);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->user = (BoxesFdoAccountsUser*) _data_->_tmp9_;
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->path);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (_data_->_inner_error_->domain == G_IO_ERROR) {
#line 3952 "unattended-installer.c"
				goto __catch82_g_io_error;
			}
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->path);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->avatar_path);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_free0 (_data_->username);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_clear_error (&_data_->_inner_error_);
#line 417 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			return FALSE;
#line 3967 "unattended-installer.c"
		}
#line 418 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp10_ = _data_->user;
#line 418 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp11_ = boxes_fdo_accounts_user_get_IconFile (_data_->_tmp10_);
#line 418 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp12_ = _data_->_tmp11_;
#line 418 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->avatar_path);
#line 418 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->avatar_path = _data_->_tmp12_;
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->user);
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->path);
#line 3983 "unattended-installer.c"
	}
	goto __finally82;
	__catch82_g_io_error:
	{
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_error_ = _data_->_inner_error_;
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_inner_error_ = NULL;
#line 420 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp13_ = _data_->username;
#line 420 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp14_ = _data_->_error_;
#line 420 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp15_ = _data_->_tmp14_->message;
#line 420 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_warning ("unattended-installer.vala:420: Failed to retrieve information about us" \
"er '%s': %s", _data_->_tmp13_, _data_->_tmp15_);
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_error_free0 (_data_->_error_);
#line 4002 "unattended-installer.c"
	}
	__finally82:
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->avatar_path);
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->username);
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_clear_error (&_data_->_inner_error_);
#line 415 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4017 "unattended-installer.c"
	}
#line 423 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp16_ = _data_->avatar_path;
#line 423 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp17_ = g_file_test (_data_->_tmp16_, G_FILE_TEST_EXISTS);
#line 423 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (!_data_->_tmp17_) {
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->avatar_path);
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->username);
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_data_->_state_ != 0) {
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			while (_data_->_task_complete_ != TRUE) {
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4037 "unattended-installer.c"
			}
		}
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_unref (_data_->_async_result);
#line 424 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4044 "unattended-installer.c"
	}
#line 426 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp18_ = _data_->self->setup_box;
#line 426 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp19_ = _data_->avatar_path;
#line 426 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_setup_box_set_avatar_path (_data_->_tmp18_, _data_->_tmp19_);
#line 4052 "unattended-installer.c"
	{
#line 429 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->avatar_format = NULL;
#line 430 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp20_ = _data_->self->scripts;
#line 430 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp21_ = osinfo_list_get_elements ((OsinfoList*) _data_->_tmp20_);
#line 4060 "unattended-installer.c"
		{
#line 430 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->s_collection = _data_->_tmp21_;
#line 430 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			for (_data_->s_it = _data_->s_collection; _data_->s_it != NULL; _data_->s_it = _data_->s_it->next) {
#line 430 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->s = (OsinfoEntity*) _data_->s_it->data;
#line 4068 "unattended-installer.c"
				{
#line 431 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp22_ = _data_->s;
#line 431 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp23_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_data_->_tmp22_, osinfo_install_script_get_type ()) ? ((OsinfoInstallScript*) _data_->_tmp22_) : NULL);
#line 431 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->script = _data_->_tmp23_;
#line 432 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp24_ = _data_->script;
#line 432 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp25_ = osinfo_install_script_get_avatar_format (_data_->_tmp24_);
#line 432 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp26_ = _data_->_tmp25_;
#line 432 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp27_ = _g_object_ref0 (_data_->_tmp26_);
#line 432 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->avatar_format);
#line 432 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->avatar_format = _data_->_tmp27_;
#line 433 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp28_ = _data_->avatar_format;
#line 433 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					if (_data_->_tmp28_ != NULL) {
#line 434 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_object_unref0 (_data_->script);
#line 434 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						break;
#line 4096 "unattended-installer.c"
					}
#line 430 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->script);
#line 4100 "unattended-installer.c"
				}
			}
#line 430 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_list_free0 (_data_->s_collection);
#line 4105 "unattended-installer.c"
		}
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp30_ = _data_->avatar_path;
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp31_ = _data_->avatar_format;
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp32_ = boxes_unattended_avatar_file_new (_data_->self, _data_->_tmp30_, _data_->_tmp31_, &_data_->_inner_error_);
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp29_ = _data_->_tmp32_;
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (_data_->avatar_format);
#line 4119 "unattended-installer.c"
			goto __catch83_g_error;
		}
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp33_ = _data_->_tmp29_;
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp29_ = NULL;
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->self->priv->avatar_file);
#line 437 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->self->priv->avatar_file = _data_->_tmp33_;
#line 438 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp34_ = _data_->self->priv->avatar_file;
#line 438 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_installer_add_unattended_file (_data_->self, (BoxesUnattendedFile*) _data_->_tmp34_);
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->_tmp29_);
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->avatar_format);
#line 4138 "unattended-installer.c"
	}
	goto __finally83;
	__catch83_g_error:
	{
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_vala1__error_ = _data_->_inner_error_;
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_inner_error_ = NULL;
#line 440 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp35_ = _data_->avatar_path;
#line 440 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp36_ = _data_->_vala1__error_;
#line 440 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp37_ = _data_->_tmp36_->message;
#line 440 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_debug ("unattended-installer.vala:440: Failed to load user avatar file '%s': %" \
"s", _data_->_tmp35_, _data_->_tmp37_);
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_error_free0 (_data_->_vala1__error_);
#line 4157 "unattended-installer.c"
	}
	__finally83:
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->avatar_path);
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_free0 (_data_->username);
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_clear_error (&_data_->_inner_error_);
#line 428 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4172 "unattended-installer.c"
	}
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->avatar_path);
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->username);
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4186 "unattended-installer.c"
		}
	}
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 408 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 4193 "unattended-installer.c"
}


static void boxes_unattended_installer_extract_boot_files_data_free (gpointer _data) {
	BoxesUnattendedInstallerExtractBootFilesData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->extractor);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerExtractBootFilesData, _data_);
#line 4208 "unattended-installer.c"
}


static void boxes_unattended_installer_extract_boot_files (BoxesUnattendedInstaller* self, BoxesISOExtractor* extractor, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstallerExtractBootFilesData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
	BoxesISOExtractor* _tmp1_;
	BoxesISOExtractor* _tmp2_;
	GCancellable* _tmp3_;
	GCancellable* _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerExtractBootFilesData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 4227 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_extract_boot_files_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = extractor;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->extractor);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->extractor = _tmp2_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = cancellable;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->cancellable = _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_extract_boot_files_co (_data_);
#line 4253 "unattended-installer.c"
}


static void boxes_unattended_installer_extract_boot_files_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_, GError** error) {
	BoxesUnattendedInstallerExtractBootFilesData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (NULL == _data_) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return;
#line 4265 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 4269 "unattended-installer.c"
}


static void boxes_unattended_installer_extract_boot_files_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerExtractBootFilesData* _data_;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_extract_boot_files_co (_data_);
#line 4285 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_extract_boot_files_co (BoxesUnattendedInstallerExtractBootFilesData* _data_) {
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 4294 "unattended-installer.c"
		goto _state_0;
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 4298 "unattended-installer.c"
		goto _state_1;
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 2:
#line 4302 "unattended-installer.c"
		goto _state_2;
		default:
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 4307 "unattended-installer.c"
	}
	_state_0:
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = _data_->extractor;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = ((BoxesInstallerMedia*) _data_->self)->os_media;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_get (_data_->_tmp1_, "kernel-path", &_data_->_tmp2_, NULL);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp3_ = _data_->_tmp2_;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp4_ = _data_->_tmp3_;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp5_ = _data_->self->kernel_file;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp6_ = g_file_get_path (_data_->_tmp5_);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp7_ = _data_->_tmp6_;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp8_ = _data_->cancellable;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_state_ = 1;
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_iso_extractor_extract (_data_->_tmp0_, _data_->_tmp4_, _data_->_tmp7_, _data_->_tmp8_, boxes_unattended_installer_extract_boot_files_ready, _data_);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 4334 "unattended-installer.c"
	_state_1:
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_iso_extractor_extract_finish (_data_->_tmp0_, _data_->_res_, &_data_->_inner_error_);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->_tmp7_);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->_tmp4_);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_unref (_data_->_async_result);
#line 445 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4350 "unattended-installer.c"
	}
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp9_ = _data_->extractor;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp10_ = ((BoxesInstallerMedia*) _data_->self)->os_media;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_get (_data_->_tmp10_, "initrd-path", &_data_->_tmp11_, NULL);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp12_ = _data_->_tmp11_;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp13_ = _data_->_tmp12_;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp14_ = _data_->self->initrd_file;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp15_ = g_file_get_path (_data_->_tmp14_);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp16_ = _data_->_tmp15_;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp17_ = _data_->cancellable;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_state_ = 2;
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_iso_extractor_extract (_data_->_tmp9_, _data_->_tmp13_, _data_->_tmp16_, _data_->_tmp17_, boxes_unattended_installer_extract_boot_files_ready, _data_);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 4376 "unattended-installer.c"
	_state_2:
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_iso_extractor_extract_finish (_data_->_tmp9_, _data_->_res_, &_data_->_inner_error_);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->_tmp16_);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->_tmp13_);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_unref (_data_->_async_result);
#line 446 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4392 "unattended-installer.c"
	}
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4402 "unattended-installer.c"
		}
	}
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 444 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 4409 "unattended-installer.c"
}


static gchar* boxes_unattended_installer_get_product_key_format (BoxesUnattendedInstaller* self) {
	gchar* result = NULL;
	OsinfoInstallScriptList* _tmp0_;
	GList* _tmp1_;
#line 449 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->scripts;
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_list_get_elements ((OsinfoList*) _tmp0_);
#line 4423 "unattended-installer.c"
	{
		GList* s_collection = NULL;
		GList* s_it = NULL;
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		s_collection = _tmp1_;
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (s_it = s_collection; s_it != NULL; s_it = s_it->next) {
#line 4431 "unattended-installer.c"
			OsinfoEntity* s = NULL;
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			s = (OsinfoEntity*) s_it->data;
#line 4435 "unattended-installer.c"
			{
				OsinfoInstallScript* script;
				OsinfoEntity* _tmp2_;
				OsinfoInstallScript* _tmp3_;
				OsinfoInstallConfigParam* param;
				OsinfoInstallScript* _tmp4_;
				OsinfoInstallConfigParam* _tmp5_;
				gboolean _tmp6_ = FALSE;
				OsinfoInstallConfigParam* _tmp7_;
				gchar* format;
				OsinfoInstallScript* _tmp10_;
				const gchar* _tmp11_;
				gchar* _tmp12_;
				const gchar* _tmp13_;
#line 452 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp2_ = s;
#line 452 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, osinfo_install_script_get_type ()) ? ((OsinfoInstallScript*) _tmp2_) : NULL);
#line 452 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				script = _tmp3_;
#line 454 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp4_ = script;
#line 454 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp5_ = osinfo_install_script_get_config_param (_tmp4_, OSINFO_INSTALL_CONFIG_PROP_REG_PRODUCTKEY);
#line 454 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				param = _tmp5_;
#line 455 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp7_ = param;
#line 455 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp7_ == NULL) {
#line 455 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp6_ = TRUE;
#line 4468 "unattended-installer.c"
				} else {
					OsinfoInstallConfigParam* _tmp8_;
					gboolean _tmp9_;
#line 455 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp8_ = param;
#line 455 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp9_ = osinfo_install_config_param_is_optional (_tmp8_);
#line 455 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp6_ = _tmp9_;
#line 4478 "unattended-installer.c"
				}
#line 455 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp6_) {
#line 456 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (param);
#line 456 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (script);
#line 456 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					continue;
#line 4488 "unattended-installer.c"
				}
#line 458 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp10_ = script;
#line 458 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp11_ = osinfo_install_script_get_product_key_format (_tmp10_);
#line 458 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp12_ = g_strdup (_tmp11_);
#line 458 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				format = _tmp12_;
#line 459 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp13_ = format;
#line 459 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp13_ != NULL) {
#line 460 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					result = format;
#line 460 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (param);
#line 460 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (script);
#line 460 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_list_free0 (s_collection);
#line 460 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return result;
#line 4512 "unattended-installer.c"
				}
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (format);
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (param);
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (script);
#line 4520 "unattended-installer.c"
			}
		}
#line 451 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_list_free0 (s_collection);
#line 4525 "unattended-installer.c"
	}
#line 463 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = NULL;
#line 463 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 4531 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_drivers_data_free (gpointer _data) {
	BoxesUnattendedInstallerSetupDriversData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerSetupDriversData, _data_);
#line 4546 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_drivers (BoxesUnattendedInstaller* self, BoxesActivityProgress* progress, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstallerSetupDriversData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
	BoxesActivityProgress* _tmp1_;
	BoxesActivityProgress* _tmp2_;
	GCancellable* _tmp3_;
	GCancellable* _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerSetupDriversData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 4565 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_setup_drivers_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = progress;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->progress = _tmp2_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = cancellable;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->cancellable = _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_setup_drivers_co (_data_);
#line 4591 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_setup_drivers_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_) {
	gboolean result;
	BoxesUnattendedInstallerSetupDriversData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (NULL == _data_) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4604 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _data_->result;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 4612 "unattended-installer.c"
}


static void _boxes_unattended_installer_add_unattended_file_boxes_unattended_installer_add_unattended_file_func (BoxesUnattendedFile* file, gpointer self) {
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_add_unattended_file ((BoxesUnattendedInstaller*) self, file);
#line 4619 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_drivers_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerSetupDriversData* _data_;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_setup_drivers_co (_data_);
#line 4635 "unattended-installer.c"
}


static void _boxes_unattended_installer_add_secondary_unattended_file_boxes_unattended_installer_add_unattended_file_func (BoxesUnattendedFile* file, gpointer self) {
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_add_secondary_unattended_file ((BoxesUnattendedInstaller*) self, file);
#line 4642 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_setup_drivers_co (BoxesUnattendedInstallerSetupDriversData* _data_) {
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 4651 "unattended-installer.c"
		goto _state_0;
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 4655 "unattended-installer.c"
		goto _state_1;
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 2:
#line 4659 "unattended-installer.c"
		goto _state_2;
		default:
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 4664 "unattended-installer.c"
	}
	_state_0:
#line 469 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = _data_->progress;
#line 469 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_activity_progress_set_info (_data_->_tmp0_, _ ("Downloading device drivers…"));
#line 471 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = boxes_unattended_installer_get_pre_installer_scripts (_data_->self);
#line 471 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->scripts = _data_->_tmp1_;
#line 472 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp2_ = _data_->scripts;
#line 472 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp3_ = boxes_unattended_installer_get_pre_installable_drivers (_data_->self, _data_->_tmp2_);
#line 472 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->drivers = _data_->_tmp3_;
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp5_ = _data_->drivers;
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp6_ = g_list_length (_data_->_tmp5_);
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_tmp6_ != ((guint) 0)) {
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp7_ = _data_->scripts;
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp8_ = g_list_length (_data_->_tmp7_);
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp4_ = _data_->_tmp8_ != ((guint) 0);
#line 4693 "unattended-installer.c"
	} else {
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp4_ = FALSE;
#line 4697 "unattended-installer.c"
	}
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_tmp4_) {
#line 475 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp9_ = _data_->progress;
#line 475 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp10_ = boxes_activity_progress_add_child_activity (_data_->_tmp9_, 0.5);
#line 475 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->drivers_progress = _data_->_tmp10_;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp11_ = _data_->drivers;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp12_ = _data_->drivers_progress;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp13_ = _data_->cancellable;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_state_ = 1;
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_installer_setup_drivers_from_list (_data_->self, _data_->_tmp11_, _data_->_tmp12_, _boxes_unattended_installer_add_unattended_file_boxes_unattended_installer_add_unattended_file_func, _data_->self, _data_->_tmp13_, boxes_unattended_installer_setup_drivers_ready, _data_);
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4719 "unattended-installer.c"
		_state_1:
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp14_ = boxes_unattended_installer_setup_drivers_from_list_finish (_data_->self, _data_->_res_);
#line 476 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (!_data_->_tmp14_) {
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->result = FALSE;
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (_data_->drivers_progress);
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			__g_list_free__g_object_unref0_0 (_data_->drivers);
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			__g_list_free__g_object_unref0_0 (_data_->scripts);
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (_data_->_state_ != 0) {
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				while (_data_->_task_complete_ != TRUE) {
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4741 "unattended-installer.c"
				}
			}
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_object_unref (_data_->_async_result);
#line 477 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			return FALSE;
#line 4748 "unattended-installer.c"
		}
#line 474 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->drivers_progress);
#line 4752 "unattended-installer.c"
	} else {
#line 479 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp15_ = _data_->progress;
#line 479 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_activity_progress_set_progress (_data_->_tmp15_, 0.5);
#line 4758 "unattended-installer.c"
	}
#line 481 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp16_ = boxes_unattended_installer_get_post_installer_scripts (_data_->self);
#line 481 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (_data_->scripts);
#line 481 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->scripts = _data_->_tmp16_;
#line 482 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp17_ = _data_->scripts;
#line 482 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp18_ = boxes_unattended_installer_get_post_installable_drivers (_data_->self, _data_->_tmp17_);
#line 482 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (_data_->drivers);
#line 482 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->drivers = _data_->_tmp18_;
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp20_ = _data_->drivers;
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp21_ = g_list_length (_data_->_tmp20_);
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_tmp21_ != ((guint) 0)) {
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp22_ = _data_->scripts;
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp23_ = g_list_length (_data_->_tmp22_);
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp19_ = _data_->_tmp23_ != ((guint) 0);
#line 4786 "unattended-installer.c"
	} else {
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp19_ = FALSE;
#line 4790 "unattended-installer.c"
	}
#line 484 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_tmp19_) {
#line 485 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp24_ = _data_->progress;
#line 485 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp25_ = boxes_activity_progress_add_child_activity (_data_->_tmp24_, 0.5);
#line 485 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_vala1_drivers_progress = _data_->_tmp25_;
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp26_ = _data_->drivers;
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp27_ = _data_->_vala1_drivers_progress;
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp28_ = _data_->cancellable;
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_state_ = 2;
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_unattended_installer_setup_drivers_from_list (_data_->self, _data_->_tmp26_, _data_->_tmp27_, _boxes_unattended_installer_add_secondary_unattended_file_boxes_unattended_installer_add_unattended_file_func, _data_->self, _data_->_tmp28_, boxes_unattended_installer_setup_drivers_ready, _data_);
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4812 "unattended-installer.c"
		_state_2:
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp29_ = boxes_unattended_installer_setup_drivers_from_list_finish (_data_->self, _data_->_res_);
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->result = _data_->_tmp29_;
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (_data_->_vala1_drivers_progress);
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		__g_list_free__g_object_unref0_0 (_data_->drivers);
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		__g_list_free__g_object_unref0_0 (_data_->scripts);
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_data_->_state_ != 0) {
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			while (_data_->_task_complete_ != TRUE) {
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4832 "unattended-installer.c"
			}
		}
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_object_unref (_data_->_async_result);
#line 486 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4839 "unattended-installer.c"
	} else {
#line 488 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_tmp30_ = _data_->progress;
#line 488 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		boxes_activity_progress_set_progress (_data_->_tmp30_, 1.0);
#line 4845 "unattended-installer.c"
	}
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->result = TRUE;
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (_data_->drivers);
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (_data_->scripts);
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4861 "unattended-installer.c"
		}
	}
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 490 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (_data_->drivers);
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (_data_->scripts);
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 4880 "unattended-installer.c"
		}
	}
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 468 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 4887 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_drivers_from_list_data_free (gpointer _data) {
	BoxesUnattendedInstallerSetupDriversFromListData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerSetupDriversFromListData, _data_);
#line 4902 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_drivers_from_list (BoxesUnattendedInstaller* self, GList* drivers, BoxesActivityProgress* progress, BoxesUnattendedInstallerAddUnattendedFileFunc add_func, void* add_func_target, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstallerSetupDriversFromListData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
	GList* _tmp1_;
	BoxesActivityProgress* _tmp2_;
	BoxesActivityProgress* _tmp3_;
	BoxesUnattendedInstallerAddUnattendedFileFunc _tmp4_;
	void* _tmp4__target;
	GCancellable* _tmp5_;
	GCancellable* _tmp6_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerSetupDriversFromListData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 4924 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_setup_drivers_from_list_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = drivers;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->drivers = _tmp1_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = progress;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->progress = _tmp3_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = add_func;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4__target = add_func_target;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->add_func = _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->add_func_target = _tmp4__target;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = cancellable;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = _g_object_ref0 (_tmp5_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->cancellable = _tmp6_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_setup_drivers_from_list_co (_data_);
#line 4962 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_setup_drivers_from_list_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_) {
	gboolean result;
	BoxesUnattendedInstallerSetupDriversFromListData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (NULL == _data_) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return FALSE;
#line 4975 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _data_->result;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 4983 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_drivers_from_list_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerSetupDriversFromListData* _data_;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_setup_drivers_from_list_co (_data_);
#line 4999 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_setup_drivers_from_list_co (BoxesUnattendedInstallerSetupDriversFromListData* _data_) {
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 5008 "unattended-installer.c"
		goto _state_0;
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 5012 "unattended-installer.c"
		goto _state_1;
		default:
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 5017 "unattended-installer.c"
	}
	_state_0:
#line 497 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = _data_->drivers;
#line 497 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = g_list_length (_data_->_tmp0_);
#line 497 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->driver_progress_scale = 1. / _data_->_tmp1_;
#line 499 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp2_ = _data_->drivers;
#line 5028 "unattended-installer.c"
	{
#line 499 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->driver_collection = _data_->_tmp2_;
#line 499 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (_data_->driver_it = _data_->driver_collection; _data_->driver_it != NULL; _data_->driver_it = _data_->driver_it->next) {
#line 499 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp3_ = _g_object_ref0 ((OsinfoDeviceDriver*) _data_->driver_it->data);
#line 499 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->driver = _data_->_tmp3_;
#line 5038 "unattended-installer.c"
			{
#line 500 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp4_ = _data_->progress;
#line 500 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp5_ = _data_->driver_progress_scale;
#line 500 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp6_ = boxes_activity_progress_add_child_activity (_data_->_tmp4_, _data_->_tmp5_);
#line 500 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->driver_progress = _data_->_tmp6_;
#line 5048 "unattended-installer.c"
				{
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp7_ = _data_->driver;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp8_ = _data_->driver_progress;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp9_ = _data_->add_func;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp9__target = _data_->add_func_target;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp10_ = _data_->cancellable;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_state_ = 1;
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					boxes_unattended_installer_setup_driver (_data_->self, _data_->_tmp7_, _data_->_tmp8_, _data_->_tmp9_, _data_->_tmp9__target, _data_->_tmp10_, boxes_unattended_installer_setup_drivers_from_list_ready, _data_);
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return FALSE;
#line 5066 "unattended-installer.c"
					_state_1:
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					boxes_unattended_installer_setup_driver_finish (_data_->self, _data_->_res_, &_data_->_inner_error_);
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 502 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						if (g_error_matches (_data_->_inner_error_, G_IO_ERROR, G_IO_ERROR_CANCELLED)) {
#line 5074 "unattended-installer.c"
							goto __catch84_g_io_error_cancelled;
						}
						goto __catch84_g_error;
					}
#line 503 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp11_ = _data_->self->priv->additional_devices;
#line 503 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp12_ = _data_->driver;
#line 503 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp13_ = osinfo_device_driver_get_devices (_data_->_tmp12_);
#line 503 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					osinfo_list_add_all ((OsinfoList*) _data_->_tmp11_, (OsinfoList*) _data_->_tmp13_);
#line 5087 "unattended-installer.c"
				}
				goto __finally84;
				__catch84_g_io_error_cancelled:
				{
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->e = _data_->_inner_error_;
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_inner_error_ = NULL;
#line 505 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_debug ("unattended-installer.vala:505: Media preparation cancelled during driv" \
"er setup.");
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->result = FALSE;
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_error_free0 (_data_->e);
#line 5102 "unattended-installer.c"
					{
#line 511 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data_->_tmp14_ = _data_->driver_progress;
#line 511 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						boxes_activity_progress_set_progress (_data_->_tmp14_, 1.0);
#line 5108 "unattended-installer.c"
					}
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->driver_progress);
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->driver);
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					if (_data_->_state_ != 0) {
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						while (_data_->_task_complete_ != TRUE) {
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
							g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5122 "unattended-installer.c"
						}
					}
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_object_unref (_data_->_async_result);
#line 507 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return FALSE;
#line 5129 "unattended-installer.c"
				}
				goto __finally84;
				__catch84_g_error:
				{
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_vala1_e = _data_->_inner_error_;
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_inner_error_ = NULL;
#line 509 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp15_ = _data_->driver;
#line 509 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp16_ = osinfo_device_driver_get_location (_data_->_tmp15_);
#line 509 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp17_ = _data_->_vala1_e;
#line 509 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp18_ = _data_->_tmp17_->message;
#line 509 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_debug ("unattended-installer.vala:509: Failed to make use of drivers at '%s': " \
"%s", _data_->_tmp16_, _data_->_tmp18_);
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_error_free0 (_data_->_vala1_e);
#line 5150 "unattended-installer.c"
				}
				__finally84:
				{
#line 511 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp19_ = _data_->driver_progress;
#line 511 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					boxes_activity_progress_set_progress (_data_->_tmp19_, 1.0);
#line 5158 "unattended-installer.c"
				}
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->driver_progress);
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->driver);
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _data_->_inner_error_->message, g_quark_to_string (_data_->_inner_error_->domain), _data_->_inner_error_->code);
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_clear_error (&_data_->_inner_error_);
#line 501 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return FALSE;
#line 5172 "unattended-installer.c"
				}
#line 499 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->driver_progress);
#line 499 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->driver);
#line 5178 "unattended-installer.c"
			}
		}
	}
#line 515 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->result = TRUE;
#line 515 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 515 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 515 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 515 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5192 "unattended-installer.c"
		}
	}
#line 515 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 515 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5207 "unattended-installer.c"
		}
	}
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 493 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 5214 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_driver_data_free (gpointer _data) {
	BoxesUnattendedInstallerSetupDriverData* _data_;
	_data_ = _data;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->driver);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_slice_free (BoxesUnattendedInstallerSetupDriverData, _data_);
#line 5231 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_driver (BoxesUnattendedInstaller* self, OsinfoDeviceDriver* driver, BoxesActivityProgress* progress, BoxesUnattendedInstallerAddUnattendedFileFunc add_func, void* add_func_target, GCancellable* cancellable, GAsyncReadyCallback _callback_, gpointer _user_data_) {
	BoxesUnattendedInstallerSetupDriverData* _data_;
	BoxesUnattendedInstaller* _tmp0_;
	OsinfoDeviceDriver* _tmp1_;
	OsinfoDeviceDriver* _tmp2_;
	BoxesActivityProgress* _tmp3_;
	BoxesActivityProgress* _tmp4_;
	BoxesUnattendedInstallerAddUnattendedFileFunc _tmp5_;
	void* _tmp5__target;
	GCancellable* _tmp6_;
	GCancellable* _tmp7_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_slice_new0 (BoxesUnattendedInstallerSetupDriverData);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), cancellable, _callback_, _user_data_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_callback_ == NULL) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->_task_complete_ = TRUE;
#line 5254 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_set_task_data (_data_->_async_result, _data_, boxes_unattended_installer_setup_driver_data_free);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->self = _tmp0_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = driver;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->driver);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->driver = _tmp2_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = progress;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = _g_object_ref0 (_tmp3_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->progress);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->progress = _tmp4_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = add_func;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5__target = add_func_target;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->add_func = _tmp5_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->add_func_target = _tmp5__target;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = cancellable;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp7_ = _g_object_ref0 (_tmp6_);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->cancellable);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->cancellable = _tmp7_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_setup_driver_co (_data_);
#line 5296 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_driver_finish (BoxesUnattendedInstaller* self, GAsyncResult* _res_, GError** error) {
	BoxesUnattendedInstallerSetupDriverData* _data_;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), error);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (NULL == _data_) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return;
#line 5308 "unattended-installer.c"
	}
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 5312 "unattended-installer.c"
}


static void _vala_array_add10 (gchar** * array, int* length, int* size, gchar* value) {
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if ((*length) == (*size)) {
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 5323 "unattended-installer.c"
	}
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(*array)[(*length)++] = value;
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(*array)[*length] = NULL;
#line 5329 "unattended-installer.c"
}


static void boxes_unattended_installer_setup_driver_ready (GObject* source_object, GAsyncResult* _res_, gpointer _user_data_) {
	BoxesUnattendedInstallerSetupDriverData* _data_;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_ = _user_data_;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_source_object_ = source_object;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_res_ = _res_;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_task_complete_ = TRUE;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_setup_driver_co (_data_);
#line 5345 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_setup_driver_co (BoxesUnattendedInstallerSetupDriverData* _data_) {
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (_data_->_state_) {
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 0:
#line 5354 "unattended-installer.c"
		goto _state_0;
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case 1:
#line 5358 "unattended-installer.c"
		goto _state_1;
		default:
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_assert_not_reached ();
#line 5363 "unattended-installer.c"
	}
	_state_0:
#line 522 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp0_ = boxes_downloader_get_instance ();
#line 522 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->downloader = _data_->_tmp0_;
#line 524 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->driver_files = NULL;
#line 525 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp1_ = _data_->driver;
#line 525 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp2_ = osinfo_device_driver_get_location (_data_->_tmp1_);
#line 525 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp3_ = g_strdup (_data_->_tmp2_);
#line 525 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->location = _data_->_tmp3_;
#line 526 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp4_ = _data_->location;
#line 526 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp5_ = g_compute_checksum_for_string (G_CHECKSUM_MD5, _data_->_tmp4_, (gsize) -1);
#line 526 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->location_checksum = _data_->_tmp5_;
#line 527 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp6_ = _data_->driver;
#line 527 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp7_ = osinfo_device_driver_get_files (_data_->_tmp6_);
#line 527 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->files = _data_->_tmp7_;
#line 528 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp8_ = _data_->files;
#line 528 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp9_ = g_list_length (_data_->_tmp8_);
#line 528 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->file_progress_scale = 1. / _data_->_tmp9_;
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp10_ = _data_->files;
#line 5400 "unattended-installer.c"
	{
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->filename_collection = _data_->_tmp10_;
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (_data_->filename_it = _data_->filename_collection; _data_->filename_it != NULL; _data_->filename_it = _data_->filename_it->next) {
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->filename = (const gchar*) _data_->filename_it->data;
#line 5408 "unattended-installer.c"
			{
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp11_ = _data_->location;
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp12_ = g_strconcat (_data_->_tmp11_, "/", NULL);
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp13_ = _data_->_tmp12_;
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp14_ = _data_->filename;
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp15_ = g_strconcat (_data_->_tmp13_, _data_->_tmp14_, NULL);
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp16_ = _data_->_tmp15_;
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->_tmp13_);
#line 531 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->file_uri = _data_->_tmp16_;
#line 532 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp17_ = _data_->file_uri;
#line 532 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp18_ = g_file_new_for_uri (_data_->_tmp17_);
#line 532 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->file = _data_->_tmp18_;
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp19_ = _data_->location_checksum;
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp20_ = g_strconcat (_data_->_tmp19_, "-", NULL);
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp21_ = _data_->_tmp20_;
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp22_ = _data_->file;
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp23_ = g_file_get_basename (_data_->_tmp22_);
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp24_ = _data_->_tmp23_;
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp25_ = g_strconcat (_data_->_tmp21_, _data_->_tmp24_, NULL);
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp26_ = _data_->_tmp25_;
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->_tmp24_);
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->_tmp21_);
#line 534 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->driver_file_name = _data_->_tmp26_;
#line 535 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp27_ = _data_->driver_file_name;
#line 535 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp28_ = boxes_get_drivers_cache (_data_->_tmp27_);
#line 535 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->cached_path = _data_->_tmp28_;
#line 536 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp29_ = _data_->driver_file_name;
#line 536 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp30_ = boxes_get_system_drivers_cache (_data_->_tmp29_);
#line 536 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->system_cached_path = _data_->_tmp30_;
#line 538 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp31_ = _data_->cached_path;
#line 538 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp32_ = g_strdup (_data_->_tmp31_);
#line 538 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp33_ = g_new0 (gchar*, 1 + 1);
#line 538 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp33_[0] = _data_->_tmp32_;
#line 538 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->cached_paths = _data_->_tmp33_;
#line 538 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->cached_paths_length1 = 1;
#line 538 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_cached_paths_size_ = _data_->cached_paths_length1;
#line 539 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp34_ = _data_->system_cached_path;
#line 539 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_data_->_tmp34_ != NULL) {
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp35_ = _data_->cached_paths;
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp35__length1 = _data_->cached_paths_length1;
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp36_ = _data_->system_cached_path;
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->_tmp37_ = g_strdup (_data_->_tmp36_);
#line 540 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_vala_array_add10 (&_data_->cached_paths, &_data_->cached_paths_length1, &_data_->_cached_paths_size_, _data_->_tmp37_);
#line 5494 "unattended-installer.c"
				}
#line 542 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp38_ = _data_->progress;
#line 542 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp39_ = _data_->file_progress_scale;
#line 542 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp40_ = boxes_activity_progress_add_child_activity (_data_->_tmp38_, _data_->_tmp39_);
#line 542 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->file_progress = _data_->_tmp40_;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp42_ = _data_->downloader;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp43_ = _data_->file;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp44_ = _data_->cached_paths;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp44__length1 = _data_->cached_paths_length1;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp45_ = _data_->file_progress;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp46_ = _data_->cancellable;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_state_ = 1;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				boxes_downloader_download (_data_->_tmp42_, _data_->_tmp43_, _data_->_tmp44_, _data_->_tmp44__length1, _data_->_tmp45_, _data_->_tmp46_, boxes_unattended_installer_setup_driver_ready, _data_);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				return FALSE;
#line 5522 "unattended-installer.c"
				_state_1:
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp47_ = boxes_downloader_download_finish (_data_->_tmp42_, _data_->_res_, &_data_->_inner_error_);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp41_ = _data_->_tmp47_;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (G_UNLIKELY (_data_->_inner_error_ != NULL)) {
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_task_return_error (_data_->_async_result, _data_->_inner_error_);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->file_progress);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data_->cached_paths = (_vala_array_free (_data_->cached_paths, _data_->cached_paths_length1, (GDestroyNotify) g_free), NULL);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (_data_->system_cached_path);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (_data_->cached_path);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (_data_->driver_file_name);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->file);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (_data_->file_uri);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_list_free0 (_data_->files);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (_data_->location_checksum);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (_data_->location);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					__g_list_free__g_object_unref0_0 (_data_->driver_files);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (_data_->downloader);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_object_unref (_data_->_async_result);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return FALSE;
#line 5560 "unattended-installer.c"
				}
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp48_ = _data_->_tmp41_;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp41_ = NULL;
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->file);
#line 543 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->file = _data_->_tmp48_;
#line 544 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp49_ = _data_->file_progress;
#line 544 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				boxes_activity_progress_set_progress (_data_->_tmp49_, 1.0);
#line 546 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp50_ = _data_->file;
#line 546 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp51_ = g_file_get_path (_data_->_tmp50_);
#line 546 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp52_ = _data_->_tmp51_;
#line 546 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp53_ = _data_->filename;
#line 546 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp54_ = boxes_unattended_raw_file_new (_data_->self, _data_->_tmp52_, _data_->_tmp53_);
#line 546 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->driver_files = g_list_append (_data_->driver_files, (BoxesUnattendedFile*) _data_->_tmp54_);
#line 546 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->_tmp52_);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->_tmp41_);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->file_progress);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->cached_paths = (_vala_array_free (_data_->cached_paths, _data_->cached_paths_length1, (GDestroyNotify) g_free), NULL);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->system_cached_path);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->cached_path);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->driver_file_name);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->file);
#line 530 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_data_->file_uri);
#line 5604 "unattended-installer.c"
			}
		}
	}
#line 550 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data_->_tmp55_ = _data_->driver_files;
#line 5610 "unattended-installer.c"
	{
#line 550 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_data_->driver_file_collection = _data_->_tmp55_;
#line 550 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (_data_->driver_file_it = _data_->driver_file_collection; _data_->driver_file_it != NULL; _data_->driver_file_it = _data_->driver_file_it->next) {
#line 550 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->_tmp56_ = _g_object_ref0 ((BoxesUnattendedFile*) _data_->driver_file_it->data);
#line 550 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_data_->driver_file = _data_->_tmp56_;
#line 5620 "unattended-installer.c"
			{
#line 551 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp57_ = _data_->add_func;
#line 551 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp57__target = _data_->add_func_target;
#line 551 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp58_ = _data_->driver_file;
#line 551 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_data_->_tmp57_ (_data_->_tmp58_, _data_->_tmp57__target);
#line 550 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (_data_->driver_file);
#line 5632 "unattended-installer.c"
			}
		}
	}
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_list_free0 (_data_->files);
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->location_checksum);
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (_data_->location);
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (_data_->driver_files);
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (_data_->downloader);
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_data_->_state_ != 0) {
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		while (_data_->_task_complete_ != TRUE) {
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 5654 "unattended-installer.c"
		}
	}
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_unref (_data_->_async_result);
#line 518 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 5661 "unattended-installer.c"
}


static gboolean __lambda147_ (BoxesUnattendedInstaller* self, OsinfoDeviceDriver* driver) {
	gboolean result = FALSE;
	OsinfoDeviceDriver* _tmp0_;
	gboolean _tmp1_;
#line 558 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (driver != NULL, FALSE);
#line 558 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = driver;
#line 558 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_device_driver_get_pre_installable (_tmp0_);
#line 558 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp1_;
#line 558 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5679 "unattended-installer.c"
}


static gboolean ___lambda147__boxes_unattended_installer_driver_installable_func (OsinfoDeviceDriver* driver, gpointer self) {
	gboolean result;
	result = __lambda147_ ((BoxesUnattendedInstaller*) self, driver);
#line 557 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5688 "unattended-installer.c"
}


static OsinfoDeviceDriverSigningReq __lambda148_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script) {
	OsinfoDeviceDriverSigningReq result = 0;
	OsinfoInstallScript* _tmp0_;
	OsinfoDeviceDriverSigningReq _tmp1_;
#line 559 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (script != NULL, 0);
#line 559 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = script;
#line 559 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_install_script_get_pre_install_drivers_signing_req (_tmp0_);
#line 559 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp1_;
#line 559 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5706 "unattended-installer.c"
}


static OsinfoDeviceDriverSigningReq ___lambda148__boxes_unattended_installer_script_driver_signing_req_func (OsinfoInstallScript* script, gpointer self) {
	OsinfoDeviceDriverSigningReq result;
	result = __lambda148_ ((BoxesUnattendedInstaller*) self, script);
#line 557 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5715 "unattended-installer.c"
}


static GList* boxes_unattended_installer_get_pre_installable_drivers (BoxesUnattendedInstaller* self, GList* preinst_scripts) {
	GList* result = NULL;
	GList* _tmp0_;
	GList* _tmp1_;
#line 556 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 557 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = preinst_scripts;
#line 557 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = boxes_unattended_installer_get_installable_drivers (self, _tmp0_, ___lambda147__boxes_unattended_installer_driver_installable_func, self, ___lambda148__boxes_unattended_installer_script_driver_signing_req_func, self);
#line 557 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp1_;
#line 557 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5733 "unattended-installer.c"
}


static gboolean __lambda150_ (BoxesUnattendedInstaller* self, OsinfoDeviceDriver* driver) {
	gboolean result = FALSE;
	OsinfoDeviceDriver* _tmp0_;
	gboolean _tmp1_;
#line 564 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (driver != NULL, FALSE);
#line 564 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = driver;
#line 564 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_device_driver_get_pre_installable (_tmp0_);
#line 564 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = !_tmp1_;
#line 564 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5751 "unattended-installer.c"
}


static gboolean ___lambda150__boxes_unattended_installer_driver_installable_func (OsinfoDeviceDriver* driver, gpointer self) {
	gboolean result;
	result = __lambda150_ ((BoxesUnattendedInstaller*) self, driver);
#line 563 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5760 "unattended-installer.c"
}


static OsinfoDeviceDriverSigningReq __lambda151_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script) {
	OsinfoDeviceDriverSigningReq result = 0;
	OsinfoInstallScript* _tmp0_;
	OsinfoDeviceDriverSigningReq _tmp1_;
#line 565 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (script != NULL, 0);
#line 565 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = script;
#line 565 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_install_script_get_post_install_drivers_signing_req (_tmp0_);
#line 565 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp1_;
#line 565 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5778 "unattended-installer.c"
}


static OsinfoDeviceDriverSigningReq ___lambda151__boxes_unattended_installer_script_driver_signing_req_func (OsinfoInstallScript* script, gpointer self) {
	OsinfoDeviceDriverSigningReq result;
	result = __lambda151_ ((BoxesUnattendedInstaller*) self, script);
#line 563 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5787 "unattended-installer.c"
}


static GList* boxes_unattended_installer_get_post_installable_drivers (BoxesUnattendedInstaller* self, GList* postinst_scripts) {
	GList* result = NULL;
	GList* _tmp0_;
	GList* _tmp1_;
#line 562 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 563 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = postinst_scripts;
#line 563 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = boxes_unattended_installer_get_installable_drivers (self, _tmp0_, ___lambda150__boxes_unattended_installer_driver_installable_func, self, ___lambda151__boxes_unattended_installer_script_driver_signing_req_func, self);
#line 563 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp1_;
#line 563 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5805 "unattended-installer.c"
}


static Block82Data* block82_data_ref (Block82Data* _data82_) {
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_atomic_int_inc (&_data82_->_ref_count_);
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return _data82_;
#line 5814 "unattended-installer.c"
}


static void block82_data_unref (void * _userdata_) {
	Block82Data* _data82_;
	_data82_ = (Block82Data*) _userdata_;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (g_atomic_int_dec_and_test (&_data82_->_ref_count_)) {
#line 5823 "unattended-installer.c"
		BoxesUnattendedInstaller* self;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		self = _data82_->self;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (self);
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_slice_free (Block82Data, _data82_);
#line 5831 "unattended-installer.c"
	}
}


static gboolean __lambda146_ (Block82Data* _data82_, OsinfoDeviceDriver* driver) {
	BoxesUnattendedInstaller* self;
	gboolean result = FALSE;
	BoxesUnattendedInstallerDriverInstallableFunc _tmp0_;
	void* _tmp0__target;
	OsinfoDeviceDriver* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_ = FALSE;
	OsinfoDeviceDriver* _tmp4_;
	gboolean _tmp5_;
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = _data82_->self;
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (driver != NULL, FALSE);
#line 599 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = _data82_->installable_func;
#line 599 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0__target = _data82_->installable_func_target;
#line 599 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = driver;
#line 599 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _tmp0_ (_tmp1_, _tmp0__target);
#line 599 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (!_tmp2_) {
#line 600 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		result = FALSE;
#line 600 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return result;
#line 5864 "unattended-installer.c"
	}
#line 602 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = driver;
#line 602 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = osinfo_device_driver_get_signed (_tmp4_);
#line 602 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (!_tmp5_) {
#line 5872 "unattended-installer.c"
		gboolean _tmp6_;
#line 602 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp6_ = _data82_->signing_required;
#line 602 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp3_ = _tmp6_;
#line 5878 "unattended-installer.c"
	} else {
#line 602 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp3_ = FALSE;
#line 5882 "unattended-installer.c"
	}
#line 602 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp3_) {
#line 5886 "unattended-installer.c"
		gboolean _tmp7_;
#line 603 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = _data82_->driver_signing_mutable;
#line 603 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp7_) {
#line 604 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			self->priv->driver_signing = FALSE;
#line 5894 "unattended-installer.c"
		} else {
			OsinfoDeviceDriver* _tmp8_;
			const gchar* _tmp9_;
#line 606 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp8_ = driver;
#line 606 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp9_ = osinfo_device_driver_get_location (_tmp8_);
#line 606 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_debug ("unattended-installer.vala:606: Driver from location '%s' is not signed" \
". Ignoring..", _tmp9_);
#line 608 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			result = FALSE;
#line 608 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			return result;
#line 5908 "unattended-installer.c"
		}
	}
#line 612 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = TRUE;
#line 612 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5915 "unattended-installer.c"
}


static gboolean ___lambda146__boxes_unattended_installer_driver_test_function (OsinfoDeviceDriver* driver, gpointer self) {
	gboolean result;
	result = __lambda146_ (self, driver);
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 5924 "unattended-installer.c"
}


static GList* boxes_unattended_installer_get_installable_drivers (BoxesUnattendedInstaller* self, GList* scripts, BoxesUnattendedInstallerDriverInstallableFunc installable_func, void* installable_func_target, BoxesUnattendedInstallerScriptDriverSigningReqFunc signing_req_func, void* signing_req_func_target) {
	GList* result = NULL;
	Block82Data* _data82_;
	BoxesUnattendedInstallerDriverInstallableFunc _tmp0_;
	void* _tmp0__target;
	GList* _tmp1_;
	gboolean _tmp10_;
	GList* _tmp21_;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_ = g_slice_new0 (Block82Data);
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_->_ref_count_ = 1;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_->self = g_object_ref (self);
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = installable_func;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0__target = installable_func_target;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_->installable_func = _tmp0_;
#line 571 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_->installable_func_target = _tmp0__target;
#line 575 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_->signing_required = FALSE;
#line 576 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = scripts;
#line 5956 "unattended-installer.c"
	{
		GList* script_collection = NULL;
		GList* script_it = NULL;
#line 576 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		script_collection = _tmp1_;
#line 576 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (script_it = script_collection; script_it != NULL; script_it = script_it->next) {
#line 5964 "unattended-installer.c"
			OsinfoInstallScript* _tmp2_;
			OsinfoInstallScript* script = NULL;
#line 576 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp2_ = _g_object_ref0 ((OsinfoInstallScript*) script_it->data);
#line 576 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			script = _tmp2_;
#line 5971 "unattended-installer.c"
			{
				BoxesUnattendedInstallerScriptDriverSigningReqFunc _tmp3_;
				void* _tmp3__target;
				OsinfoInstallScript* _tmp4_;
				OsinfoDeviceDriverSigningReq _tmp5_;
#line 577 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp3_ = signing_req_func;
#line 577 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp3__target = signing_req_func_target;
#line 577 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp4_ = script;
#line 577 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp5_ = _tmp3_ (_tmp4_, _tmp3__target);
#line 577 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp5_ != OSINFO_DEVICE_DRIVER_SIGNING_REQ_NONE) {
#line 5987 "unattended-installer.c"
					OsinfoInstallScript* _tmp6_;
					gchar* _tmp7_;
					gchar* _tmp8_;
					gchar* _tmp9_;
#line 578 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp6_ = script;
#line 578 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_object_get ((OsinfoEntity*) _tmp6_, "id", &_tmp7_, NULL);
#line 578 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp8_ = _tmp7_;
#line 578 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp9_ = _tmp8_;
#line 578 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_debug ("unattended-installer.vala:578: Script '%s' requires signed drivers.", _tmp9_);
#line 578 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_free0 (_tmp9_);
#line 579 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_data82_->signing_required = TRUE;
#line 581 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (script);
#line 581 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					break;
#line 6010 "unattended-installer.c"
				}
#line 576 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (script);
#line 6014 "unattended-installer.c"
			}
		}
	}
#line 584 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_->driver_signing_mutable = FALSE;
#line 585 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp10_ = _data82_->signing_required;
#line 585 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp10_) {
#line 6024 "unattended-installer.c"
		OsinfoInstallScriptList* _tmp11_;
		GList* _tmp12_;
#line 587 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp11_ = self->scripts;
#line 587 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp12_ = osinfo_list_get_elements ((OsinfoList*) _tmp11_);
#line 6031 "unattended-installer.c"
		{
			GList* s_collection = NULL;
			GList* s_it = NULL;
#line 587 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			s_collection = _tmp12_;
#line 587 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			for (s_it = s_collection; s_it != NULL; s_it = s_it->next) {
#line 6039 "unattended-installer.c"
				OsinfoEntity* s = NULL;
#line 587 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				s = (OsinfoEntity*) s_it->data;
#line 6043 "unattended-installer.c"
				{
					OsinfoInstallScript* script;
					OsinfoEntity* _tmp13_;
					OsinfoInstallScript* _tmp14_;
					OsinfoInstallScript* _tmp15_;
					gboolean _tmp16_;
#line 588 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp13_ = s;
#line 588 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp14_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp13_, osinfo_install_script_get_type ()) ? ((OsinfoInstallScript*) _tmp13_) : NULL);
#line 588 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					script = _tmp14_;
#line 590 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp15_ = script;
#line 590 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp16_ = osinfo_install_script_has_config_param_name (_tmp15_, OSINFO_INSTALL_CONFIG_PROP_DRIVER_SIGNING);
#line 590 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					if (_tmp16_) {
#line 6062 "unattended-installer.c"
						OsinfoInstallScript* _tmp17_;
						gchar* _tmp18_;
						gchar* _tmp19_;
						gchar* _tmp20_;
#line 591 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp17_ = script;
#line 591 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						g_object_get ((OsinfoEntity*) _tmp17_, "id", &_tmp18_, NULL);
#line 591 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp19_ = _tmp18_;
#line 591 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp20_ = _tmp19_;
#line 591 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						g_debug ("unattended-installer.vala:591: Script '%s' allows disabling of driver " \
"signature checks.", _tmp20_);
#line 591 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_free0 (_tmp20_);
#line 592 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_data82_->driver_signing_mutable = TRUE;
#line 594 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_g_object_unref0 (script);
#line 594 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						break;
#line 6085 "unattended-installer.c"
					}
#line 587 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (script);
#line 6089 "unattended-installer.c"
				}
			}
#line 587 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_list_free0 (s_collection);
#line 6094 "unattended-installer.c"
		}
	}
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp21_ = boxes_unattended_installer_get_drivers (self, ___lambda146__boxes_unattended_installer_driver_test_function, _data82_);
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp21_;
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	block82_data_unref (_data82_);
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_data82_ = NULL;
#line 598 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6107 "unattended-installer.c"
}


static void _g_free0_ (gpointer var) {
#line 617 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	var = (g_free (var), NULL);
#line 6114 "unattended-installer.c"
}


static GList* boxes_unattended_installer_get_drivers (BoxesUnattendedInstaller* self, BoxesUnattendedInstallerDriverTestFunction test_func, void* test_func_target) {
	GList* result = NULL;
	GHashTable* drivers;
	GHashFunc _tmp0_;
	GEqualFunc _tmp1_;
	GHashTable* _tmp2_;
	OsinfoOs* _tmp3_;
	OsinfoDeviceDriverList* _tmp4_;
	GList* _tmp5_;
	GList* ret;
	GHashTable* _tmp35_;
	GList* _tmp36_;
#line 616 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 617 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = g_str_hash;
#line 617 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = g_str_equal;
#line 617 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = g_hash_table_new_full (_tmp0_, _tmp1_, _g_free0_, _g_object_unref0_);
#line 617 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	drivers = _tmp2_;
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = ((BoxesInstallerMedia*) self)->os;
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = osinfo_os_get_device_drivers (_tmp3_);
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = osinfo_list_get_elements ((OsinfoList*) _tmp4_);
#line 6146 "unattended-installer.c"
	{
		GList* d_collection = NULL;
		GList* d_it = NULL;
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		d_collection = _tmp5_;
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (d_it = d_collection; d_it != NULL; d_it = d_it->next) {
#line 6154 "unattended-installer.c"
			OsinfoEntity* d = NULL;
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			d = (OsinfoEntity*) d_it->data;
#line 6158 "unattended-installer.c"
			{
				OsinfoDeviceDriver* driver;
				OsinfoEntity* _tmp6_;
				OsinfoDeviceDriver* _tmp7_;
				BoxesCPUArchCompatibility compatibility;
				OsinfoMedia* _tmp8_;
				gchar* _tmp9_;
				gchar* _tmp10_;
				gchar* _tmp11_;
				OsinfoDeviceDriver* _tmp12_;
				const gchar* _tmp13_;
				BoxesCPUArchCompatibility _tmp14_;
				BoxesCPUArchCompatibility _tmp15_;
				gchar* location;
				OsinfoDeviceDriver* _tmp16_;
				const gchar* _tmp17_;
				gchar* _tmp18_;
				BoxesCPUArchCompatibility _tmp19_;
#line 620 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp6_ = d;
#line 620 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp7_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, osinfo_device_driver_get_type ()) ? ((OsinfoDeviceDriver*) _tmp6_) : NULL);
#line 620 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				driver = _tmp7_;
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp8_ = ((BoxesInstallerMedia*) self)->os_media;
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				g_object_get (_tmp8_, "architecture", &_tmp9_, NULL);
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp10_ = _tmp9_;
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp11_ = _tmp10_;
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp12_ = driver;
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp13_ = osinfo_device_driver_get_architecture (_tmp12_);
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp14_ = boxes_compare_cpu_architectures (_tmp11_, _tmp13_);
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp15_ = _tmp14_;
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (_tmp11_);
#line 622 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				compatibility = _tmp15_;
#line 623 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp16_ = driver;
#line 623 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp17_ = osinfo_device_driver_get_location (_tmp16_);
#line 623 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp18_ = g_strdup (_tmp17_);
#line 623 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				location = _tmp18_;
#line 624 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp19_ = compatibility;
#line 624 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp19_ == BOXES_CPU_ARCH_COMPATIBILITY_IDENTICAL) {
#line 6215 "unattended-installer.c"
					GHashTable* _tmp20_;
					const gchar* _tmp21_;
					gchar* _tmp22_;
					OsinfoDeviceDriver* _tmp23_;
					OsinfoDeviceDriver* _tmp24_;
#line 625 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp20_ = drivers;
#line 625 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp21_ = location;
#line 625 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp22_ = g_strdup (_tmp21_);
#line 625 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp23_ = driver;
#line 625 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp24_ = _g_object_ref0 (_tmp23_);
#line 625 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_hash_table_replace (_tmp20_, _tmp22_, _tmp24_);
#line 6233 "unattended-installer.c"
				} else {
					gboolean _tmp25_ = FALSE;
					BoxesCPUArchCompatibility _tmp26_;
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp26_ = compatibility;
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					if (_tmp26_ == BOXES_CPU_ARCH_COMPATIBILITY_COMPATIBLE) {
#line 6241 "unattended-installer.c"
						GHashTable* _tmp27_;
						const gchar* _tmp28_;
						gconstpointer _tmp29_;
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp27_ = drivers;
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp28_ = location;
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp29_ = g_hash_table_lookup (_tmp27_, _tmp28_);
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp25_ = ((OsinfoDeviceDriver*) _tmp29_) == NULL;
#line 6253 "unattended-installer.c"
					} else {
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp25_ = FALSE;
#line 6257 "unattended-installer.c"
					}
#line 626 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					if (_tmp25_) {
#line 6261 "unattended-installer.c"
						GHashTable* _tmp30_;
						const gchar* _tmp31_;
						gchar* _tmp32_;
						OsinfoDeviceDriver* _tmp33_;
						OsinfoDeviceDriver* _tmp34_;
#line 627 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp30_ = drivers;
#line 627 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp31_ = location;
#line 627 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp32_ = g_strdup (_tmp31_);
#line 627 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp33_ = driver;
#line 627 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						_tmp34_ = _g_object_ref0 (_tmp33_);
#line 627 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
						g_hash_table_insert (_tmp30_, _tmp32_, _tmp34_);
#line 6279 "unattended-installer.c"
					}
				}
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (location);
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (driver);
#line 6286 "unattended-installer.c"
			}
		}
#line 619 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_list_free0 (d_collection);
#line 6291 "unattended-installer.c"
	}
#line 635 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	ret = NULL;
#line 636 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp35_ = drivers;
#line 636 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp36_ = g_hash_table_get_values (_tmp35_);
#line 6299 "unattended-installer.c"
	{
		GList* driver_collection = NULL;
		GList* driver_it = NULL;
#line 636 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		driver_collection = _tmp36_;
#line 636 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (driver_it = driver_collection; driver_it != NULL; driver_it = driver_it->next) {
#line 6307 "unattended-installer.c"
			OsinfoDeviceDriver* driver = NULL;
#line 636 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			driver = (OsinfoDeviceDriver*) driver_it->data;
#line 6311 "unattended-installer.c"
			{
				BoxesUnattendedInstallerDriverTestFunction _tmp37_;
				void* _tmp37__target;
				OsinfoDeviceDriver* _tmp38_;
				gboolean _tmp39_;
#line 637 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp37_ = test_func;
#line 637 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp37__target = test_func_target;
#line 637 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp38_ = driver;
#line 637 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp39_ = _tmp37_ (_tmp38_, _tmp37__target);
#line 637 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp39_) {
#line 6327 "unattended-installer.c"
					OsinfoDeviceDriver* _tmp40_;
					OsinfoDeviceDriver* _tmp41_;
#line 638 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp40_ = driver;
#line 638 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp41_ = _g_object_ref0 (_tmp40_);
#line 638 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					ret = g_list_prepend (ret, _tmp41_);
#line 6336 "unattended-installer.c"
				}
			}
		}
#line 636 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_list_free0 (driver_collection);
#line 6342 "unattended-installer.c"
	}
#line 640 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	ret = g_list_reverse (ret);
#line 642 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = ret;
#line 642 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_hash_table_unref0 (drivers);
#line 642 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6352 "unattended-installer.c"
}


static gboolean __lambda145_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script) {
	gboolean result = FALSE;
	OsinfoInstallScript* _tmp0_;
	gboolean _tmp1_;
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (script != NULL, FALSE);
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = script;
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_install_script_get_can_pre_install_drivers (_tmp0_);
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp1_;
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6370 "unattended-installer.c"
}


static gboolean ___lambda145__boxes_unattended_installer_script_test_function (OsinfoInstallScript* script, gpointer self) {
	gboolean result;
	result = __lambda145_ ((BoxesUnattendedInstaller*) self, script);
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6379 "unattended-installer.c"
}


static GList* boxes_unattended_installer_get_pre_installer_scripts (BoxesUnattendedInstaller* self) {
	GList* result = NULL;
	GList* _tmp0_;
#line 647 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = boxes_unattended_installer_get_scripts (self, ___lambda145__boxes_unattended_installer_script_test_function, self);
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp0_;
#line 648 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6394 "unattended-installer.c"
}


static gboolean __lambda149_ (BoxesUnattendedInstaller* self, OsinfoInstallScript* script) {
	gboolean result = FALSE;
	OsinfoInstallScript* _tmp0_;
	gboolean _tmp1_;
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (script != NULL, FALSE);
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = script;
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_install_script_get_can_post_install_drivers (_tmp0_);
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp1_;
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6412 "unattended-installer.c"
}


static gboolean ___lambda149__boxes_unattended_installer_script_test_function (OsinfoInstallScript* script, gpointer self) {
	gboolean result;
	result = __lambda149_ ((BoxesUnattendedInstaller*) self, script);
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6421 "unattended-installer.c"
}


static GList* boxes_unattended_installer_get_post_installer_scripts (BoxesUnattendedInstaller* self) {
	GList* result = NULL;
	GList* _tmp0_;
#line 651 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = boxes_unattended_installer_get_scripts (self, ___lambda149__boxes_unattended_installer_script_test_function, self);
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp0_;
#line 652 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6436 "unattended-installer.c"
}


static GList* boxes_unattended_installer_get_scripts (BoxesUnattendedInstaller* self, BoxesUnattendedInstallerScriptTestFunction test_func, void* test_func_target) {
	GList* result = NULL;
	GList* scripts;
	OsinfoInstallScriptList* _tmp0_;
	GList* _tmp1_;
#line 655 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 656 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	scripts = NULL;
#line 658 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->scripts;
#line 658 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = osinfo_list_get_elements ((OsinfoList*) _tmp0_);
#line 6453 "unattended-installer.c"
	{
		GList* s_collection = NULL;
		GList* s_it = NULL;
#line 658 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		s_collection = _tmp1_;
#line 658 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (s_it = s_collection; s_it != NULL; s_it = s_it->next) {
#line 6461 "unattended-installer.c"
			OsinfoEntity* s = NULL;
#line 658 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			s = (OsinfoEntity*) s_it->data;
#line 6465 "unattended-installer.c"
			{
				OsinfoInstallScript* script;
				OsinfoEntity* _tmp2_;
				OsinfoInstallScript* _tmp3_;
				BoxesUnattendedInstallerScriptTestFunction _tmp4_;
				void* _tmp4__target;
				OsinfoInstallScript* _tmp5_;
				gboolean _tmp6_;
#line 659 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp2_ = s;
#line 659 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp3_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, osinfo_install_script_get_type ()) ? ((OsinfoInstallScript*) _tmp2_) : NULL);
#line 659 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				script = _tmp3_;
#line 661 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp4_ = test_func;
#line 661 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp4__target = test_func_target;
#line 661 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp5_ = script;
#line 661 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp6_ = _tmp4_ (_tmp5_, _tmp4__target);
#line 661 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_tmp6_) {
#line 6490 "unattended-installer.c"
					OsinfoInstallScript* _tmp7_;
					OsinfoInstallScript* _tmp8_;
#line 662 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp7_ = script;
#line 662 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp8_ = _g_object_ref0 (_tmp7_);
#line 662 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					scripts = g_list_append (scripts, _tmp8_);
#line 6499 "unattended-installer.c"
				}
#line 658 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (script);
#line 6503 "unattended-installer.c"
			}
		}
#line 658 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_list_free0 (s_collection);
#line 6508 "unattended-installer.c"
	}
#line 665 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = scripts;
#line 665 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6514 "unattended-installer.c"
}


static gchar** _vala_array_dup4 (gchar** self, int length) {
	gchar** result;
	int i;
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = g_new0 (gchar*, length + 1);
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	for (i = 0; i < length; i++) {
#line 6525 "unattended-installer.c"
		gchar* _tmp0_;
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp0_ = g_strdup (self[i]);
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		result[i] = _tmp0_;
#line 6531 "unattended-installer.c"
	}
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6535 "unattended-installer.c"
}


static void _vala_array_add11 (gchar** * array, int* length, int* size, gchar* value) {
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if ((*length) == (*size)) {
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 6546 "unattended-installer.c"
	}
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(*array)[(*length)++] = value;
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	(*array)[*length] = NULL;
#line 6552 "unattended-installer.c"
}


static gboolean _vala_string_array_contains (gchar* * stack, int stack_length, gchar* needle) {
	int i;
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	for (i = 0; i < stack_length; i++) {
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (g_strcmp0 (stack[i], needle) == 0) {
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			return TRUE;
#line 6564 "unattended-installer.c"
		}
	}
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return FALSE;
#line 6569 "unattended-installer.c"
}


static gchar* boxes_unattended_installer_get_preferred_language (BoxesUnattendedInstaller* self) {
	gchar* result = NULL;
	gchar** system_langs;
	gchar** _tmp0_;
	gchar** _tmp1_;
	gchar** _tmp2_;
	gint _tmp2__length1;
	gint system_langs_length1;
	gint _system_langs_size_;
	gchar** media_langs;
	gchar** _tmp3_;
	gint media_langs_length1;
	gint _media_langs_size_;
	GList* media_langs_list;
	OsinfoMedia* _tmp4_;
	GList* _tmp5_;
	GList* _tmp6_;
	GList* _tmp7_;
	gchar** _tmp11_;
	gint _tmp11__length1;
	GList* _tmp16_;
	gchar* lang;
	gchar** _tmp22_;
	gint _tmp22__length1;
	const gchar* _tmp23_;
	gchar* _tmp24_;
	const gchar* _tmp25_;
	gchar* _tmp26_;
	const gchar* _tmp27_;
#line 669 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = _tmp0_ = g_get_language_names ();
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = (_tmp1_ != NULL) ? _vala_array_dup4 (_tmp1_, _vala_array_length (_tmp0_)) : ((gpointer) _tmp1_);
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2__length1 = _vala_array_length (_tmp0_);
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	system_langs = _tmp2_;
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	system_langs_length1 = _tmp2__length1;
#line 670 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_system_langs_size_ = system_langs_length1;
#line 671 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = g_new0 (gchar*, 0 + 1);
#line 671 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	media_langs = _tmp3_;
#line 671 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	media_langs_length1 = 0;
#line 671 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_media_langs_size_ = media_langs_length1;
#line 672 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp4_ = ((BoxesInstallerMedia*) self)->os_media;
#line 672 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp5_ = osinfo_media_get_languages (_tmp4_);
#line 672 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp6_ = _tmp5_;
#line 672 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	media_langs_list = _tmp6_;
#line 674 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp7_ = media_langs_list;
#line 6634 "unattended-installer.c"
	{
		GList* lang_collection = NULL;
		GList* lang_it = NULL;
#line 674 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		lang_collection = _tmp7_;
#line 674 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (lang_it = lang_collection; lang_it != NULL; lang_it = lang_it->next) {
#line 6642 "unattended-installer.c"
			const gchar* lang = NULL;
#line 674 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			lang = (const gchar*) lang_it->data;
#line 6646 "unattended-installer.c"
			{
				gchar** _tmp8_;
				gint _tmp8__length1;
				const gchar* _tmp9_;
				gchar* _tmp10_;
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp8_ = media_langs;
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp8__length1 = media_langs_length1;
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp9_ = lang;
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp10_ = g_strdup (_tmp9_);
#line 675 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_vala_array_add11 (&media_langs, &media_langs_length1, &_media_langs_size_, _tmp10_);
#line 6662 "unattended-installer.c"
			}
		}
	}
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp11_ = system_langs;
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp11__length1 = system_langs_length1;
#line 6670 "unattended-installer.c"
	{
		gchar** lang_collection = NULL;
		gint lang_collection_length1 = 0;
		gint _lang_collection_size_ = 0;
		gint lang_it = 0;
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		lang_collection = _tmp11_;
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		lang_collection_length1 = _tmp11__length1;
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (lang_it = 0; lang_it < _tmp11__length1; lang_it = lang_it + 1) {
#line 6682 "unattended-installer.c"
			gchar* _tmp12_;
			gchar* lang = NULL;
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp12_ = g_strdup (lang_collection[lang_it]);
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			lang = _tmp12_;
#line 6689 "unattended-installer.c"
			{
				const gchar* _tmp13_;
				gchar** _tmp14_;
				gint _tmp14__length1;
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp13_ = lang;
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp14_ = media_langs;
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp14__length1 = media_langs_length1;
#line 678 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (_vala_string_array_contains (_tmp14_, _tmp14__length1, _tmp13_)) {
#line 6702 "unattended-installer.c"
					const gchar* _tmp15_;
#line 679 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp15_ = lang;
#line 679 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					g_debug ("unattended-installer.vala:679: matched %s", _tmp15_);
#line 680 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					result = lang;
#line 680 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_list_free0 (media_langs_list);
#line 680 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					media_langs = (_vala_array_free (media_langs, media_langs_length1, (GDestroyNotify) g_free), NULL);
#line 680 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					system_langs = (_vala_array_free (system_langs, system_langs_length1, (GDestroyNotify) g_free), NULL);
#line 680 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return result;
#line 6718 "unattended-installer.c"
				}
#line 677 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_free0 (lang);
#line 6722 "unattended-installer.c"
			}
		}
	}
#line 684 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp16_ = media_langs_list;
#line 684 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp16_ != NULL) {
#line 6730 "unattended-installer.c"
		GList* _tmp17_;
		gconstpointer _tmp18_;
		GList* _tmp19_;
		gconstpointer _tmp20_;
		gchar* _tmp21_;
#line 685 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp17_ = media_langs_list;
#line 685 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp18_ = g_list_nth_data (_tmp17_, (guint) 0);
#line 685 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_debug ("unattended-installer.vala:685: Failed to match system locales with med" \
"ia languages, falling back to %s media language", (const gchar*) _tmp18_);
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp19_ = media_langs_list;
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp20_ = g_list_nth_data (_tmp19_, (guint) 0);
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp21_ = g_strdup ((const gchar*) _tmp20_);
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		result = _tmp21_;
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_list_free0 (media_langs_list);
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		media_langs = (_vala_array_free (media_langs, media_langs_length1, (GDestroyNotify) g_free), NULL);
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		system_langs = (_vala_array_free (system_langs, system_langs_length1, (GDestroyNotify) g_free), NULL);
#line 687 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return result;
#line 6758 "unattended-installer.c"
	}
#line 690 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp22_ = system_langs;
#line 690 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp22__length1 = system_langs_length1;
#line 690 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp23_ = _tmp22_[0];
#line 690 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp24_ = string_replace (_tmp23_, ".utf8", "");
#line 690 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	lang = _tmp24_;
#line 691 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp25_ = lang;
#line 691 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp26_ = string_replace (_tmp25_, ".UTF-8", "");
#line 691 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (lang);
#line 691 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	lang = _tmp26_;
#line 692 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp27_ = lang;
#line 692 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_debug ("unattended-installer.vala:692: No media language, using %s locale", _tmp27_);
#line 694 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = lang;
#line 694 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_list_free0 (media_langs_list);
#line 694 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	media_langs = (_vala_array_free (media_langs, media_langs_length1, (GDestroyNotify) g_free), NULL);
#line 694 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	system_langs = (_vala_array_free (system_langs, system_langs_length1, (GDestroyNotify) g_free), NULL);
#line 694 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6792 "unattended-installer.c"
}


static void boxes_unattended_installer_remove_disk_from_domain_config (BoxesUnattendedInstaller* self, GVirConfigDomain* domain, const gchar* disk_path) {
	GList* devices;
	GVirConfigDomain* _tmp0_;
	GList* _tmp1_;
	GList* _tmp2_;
	GVirConfigDomain* _tmp11_;
	GList* _tmp12_;
#line 697 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (self != NULL);
#line 697 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (domain != NULL);
#line 697 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_if_fail (disk_path != NULL);
#line 698 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = domain;
#line 698 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = gvir_config_domain_get_devices (_tmp0_);
#line 698 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	devices = _tmp1_;
#line 699 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = devices;
#line 6817 "unattended-installer.c"
	{
		GList* device_collection = NULL;
		GList* device_it = NULL;
#line 699 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		device_collection = _tmp2_;
#line 699 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (device_it = device_collection; device_it != NULL; device_it = device_it->next) {
#line 6825 "unattended-installer.c"
			GVirConfigDomainDevice* _tmp3_;
			GVirConfigDomainDevice* device = NULL;
#line 699 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp3_ = _g_object_ref0 ((GVirConfigDomainDevice*) device_it->data);
#line 699 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			device = _tmp3_;
#line 6832 "unattended-installer.c"
			{
				GVirConfigDomainDevice* _tmp4_;
				GVirConfigDomainDisk* disk;
				GVirConfigDomainDevice* _tmp5_;
				GVirConfigDomainDisk* _tmp6_;
				GVirConfigDomainDisk* _tmp7_;
				const gchar* _tmp8_;
				const gchar* _tmp9_;
#line 700 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp4_ = device;
#line 700 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (!G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, gvir_config_domain_disk_get_type ())) {
#line 701 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (device);
#line 701 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					continue;
#line 6849 "unattended-installer.c"
				}
#line 703 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp5_ = device;
#line 703 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp6_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp5_, gvir_config_domain_disk_get_type ()) ? ((GVirConfigDomainDisk*) _tmp5_) : NULL);
#line 703 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				disk = _tmp6_;
#line 704 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp7_ = disk;
#line 704 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp8_ = gvir_config_domain_disk_get_source (_tmp7_);
#line 704 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp9_ = disk_path;
#line 704 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (g_strcmp0 (_tmp8_, _tmp9_) == 0) {
#line 6865 "unattended-installer.c"
					GVirConfigDomainDevice* _tmp10_;
#line 705 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp10_ = device;
#line 705 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					devices = g_list_remove (devices, _tmp10_);
#line 707 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (disk);
#line 707 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (device);
#line 707 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					break;
#line 6877 "unattended-installer.c"
				}
#line 699 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (disk);
#line 699 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (device);
#line 6883 "unattended-installer.c"
			}
		}
	}
#line 711 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp11_ = domain;
#line 711 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp12_ = devices;
#line 711 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	gvir_config_domain_set_devices (_tmp11_, _tmp12_);
#line 697 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (devices);
#line 6895 "unattended-installer.c"
}


BoxesUnattendedInstaller* boxes_unattended_installer_construct (GType object_type) {
	BoxesUnattendedInstaller * self = NULL;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) boxes_installer_media_construct (object_type);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return self;
#line 6905 "unattended-installer.c"
}


BoxesUnattendedInstaller* boxes_unattended_installer_new (void) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return boxes_unattended_installer_construct (BOXES_TYPE_UNATTENDED_INSTALLER);
#line 6912 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_real_get_need_user_input_for_vm_creation (BoxesInstallerMedia* base) {
	gboolean result;
	BoxesUnattendedInstaller* self;
	gboolean _tmp0_;
	gboolean _tmp1_;
#line 8 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 9 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = boxes_installer_media_get_live ((BoxesInstallerMedia*) self);
#line 9 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = _tmp0_;
#line 9 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = !_tmp1_;
#line 9 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6931 "unattended-installer.c"
}


static gboolean boxes_unattended_installer_real_get_ready_to_create (BoxesInstallerMedia* base) {
	gboolean result;
	BoxesUnattendedInstaller* self;
	BoxesUnattendedSetupBox* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
#line 14 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 15 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->setup_box;
#line 15 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = boxes_unattended_setup_box_get_ready_to_create (_tmp0_);
#line 15 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = _tmp1_;
#line 15 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = _tmp2_;
#line 15 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 6953 "unattended-installer.c"
}


static OsinfoDeviceList* boxes_unattended_installer_real_get_supported_devices (BoxesInstallerMedia* base) {
	OsinfoDeviceList* result;
	BoxesUnattendedInstaller* self;
	OsinfoDeviceList* devices;
	OsinfoDeviceList* _tmp0_;
	BoxesUnattendedSetupBox* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
#line 20 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = (BoxesUnattendedInstaller*) base;
#line 21 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = BOXES_INSTALLER_MEDIA_CLASS (boxes_unattended_installer_parent_class)->get_supported_devices (G_TYPE_CHECK_INSTANCE_CAST (self, BOXES_TYPE_INSTALLER_MEDIA, BoxesInstallerMedia));
#line 21 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	devices = _tmp0_;
#line 23 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp1_ = self->setup_box;
#line 23 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp2_ = boxes_unattended_setup_box_get_express_install (_tmp1_);
#line 23 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp3_ = _tmp2_;
#line 23 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp3_) {
#line 6979 "unattended-installer.c"
		OsinfoDeviceList* _tmp4_;
		OsinfoDeviceList* _tmp5_;
		OsinfoList* _tmp6_;
		OsinfoDeviceList* _tmp7_;
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp4_ = devices;
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp5_ = self->priv->additional_devices;
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp6_ = osinfo_list_new_union (G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, osinfo_list_get_type ()) ? ((OsinfoList*) _tmp4_) : NULL, (OsinfoList*) _tmp5_);
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_tmp7_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, osinfo_devicelist_get_type ()) ? ((OsinfoDeviceList*) _tmp6_) : NULL;
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (_tmp7_ == NULL) {
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (_tmp6_);
#line 6996 "unattended-installer.c"
		}
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		result = _tmp7_;
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		_g_object_unref0 (devices);
#line 24 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return result;
#line 7004 "unattended-installer.c"
	} else {
#line 26 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		result = devices;
#line 26 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		return result;
#line 7010 "unattended-installer.c"
	}
#line 20 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (devices);
#line 7014 "unattended-installer.c"
}


static OsinfoInstallScriptInjectionMethod boxes_unattended_installer_get_injection_method (BoxesUnattendedInstaller* self) {
	OsinfoInstallScriptInjectionMethod result;
	GList* _tmp0_;
#line 55 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 56 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = self->priv->unattended_files;
#line 7025 "unattended-installer.c"
	{
		GList* unattended_file_collection = NULL;
		GList* unattended_file_it = NULL;
#line 56 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		unattended_file_collection = _tmp0_;
#line 56 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		for (unattended_file_it = unattended_file_collection; unattended_file_it != NULL; unattended_file_it = unattended_file_it->next) {
#line 7033 "unattended-installer.c"
			BoxesUnattendedFile* _tmp1_;
			BoxesUnattendedFile* unattended_file = NULL;
#line 56 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp1_ = _g_object_ref0 ((BoxesUnattendedFile*) unattended_file_it->data);
#line 56 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			unattended_file = _tmp1_;
#line 7040 "unattended-installer.c"
			{
				BoxesUnattendedFile* _tmp2_;
#line 57 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_tmp2_ = unattended_file;
#line 57 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp2_, BOXES_TYPE_UNATTENDED_SCRIPT_FILE)) {
#line 7047 "unattended-installer.c"
					BoxesUnattendedFile* _tmp3_;
					OsinfoInstallScriptInjectionMethod _tmp4_;
					OsinfoInstallScriptInjectionMethod _tmp5_;
#line 58 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp3_ = unattended_file;
#line 58 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp4_ = boxes_unattended_script_file_get_injection_method (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, BOXES_TYPE_UNATTENDED_SCRIPT_FILE) ? ((BoxesUnattendedScriptFile*) _tmp3_) : NULL);
#line 58 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_tmp5_ = _tmp4_;
#line 58 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					result = _tmp5_;
#line 58 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					_g_object_unref0 (unattended_file);
#line 58 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
					return result;
#line 7063 "unattended-installer.c"
				}
#line 56 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
				_g_object_unref0 (unattended_file);
#line 7067 "unattended-installer.c"
			}
		}
	}
#line 61 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	result = OSINFO_INSTALL_SCRIPT_INJECTION_METHOD_DISK;
#line 61 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return result;
#line 7075 "unattended-installer.c"
}


static GObject * boxes_unattended_installer_constructor (GType type, guint n_construct_properties, GObjectConstructParam * construct_properties) {
	GObject * obj;
	GObjectClass * parent_class;
	BoxesUnattendedInstaller * self;
	BoxesFdoAccounts* _tmp0_;
	GError * _inner_error_ = NULL;
#line 71 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	parent_class = G_OBJECT_CLASS (boxes_unattended_installer_parent_class);
#line 71 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	obj = parent_class->constructor (type, n_construct_properties, construct_properties);
#line 71 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BOXES_TYPE_UNATTENDED_INSTALLER, BoxesUnattendedInstaller);
#line 74 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_tmp0_ = boxes_unattended_installer_accounts;
#line 74 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	if (_tmp0_ == NULL) {
#line 7095 "unattended-installer.c"
		{
			BoxesFdoAccounts* _tmp1_;
			BoxesFdoAccounts* _tmp2_;
			BoxesFdoAccounts* _tmp3_;
#line 76 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp2_ = g_initable_new (BOXES_FDO_TYPE_ACCOUNTS_PROXY, NULL, &_inner_error_, "g-flags", 0, "g-name", "org.freedesktop.Accounts", "g-bus-type", G_BUS_TYPE_SYSTEM, "g-object-path", "/org/freedesktop/Accounts", "g-interface-name", "org.freedesktop.Accounts", "g-interface-info", g_type_get_qdata (BOXES_FDO_TYPE_ACCOUNTS, g_quark_from_static_string ("vala-dbus-interface-info")), NULL);
#line 76 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp1_ = (BoxesFdoAccounts*) _tmp2_;
#line 76 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 7106 "unattended-installer.c"
				goto __catch85_g_error;
			}
#line 76 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp3_ = _tmp1_;
#line 76 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp1_ = NULL;
#line 76 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (boxes_unattended_installer_accounts);
#line 76 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			boxes_unattended_installer_accounts = _tmp3_;
#line 75 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_object_unref0 (_tmp1_);
#line 7119 "unattended-installer.c"
		}
		goto __finally85;
		__catch85_g_error:
		{
			GError* _error_ = NULL;
			GError* _tmp4_;
			const gchar* _tmp5_;
#line 75 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_error_ = _inner_error_;
#line 75 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_inner_error_ = NULL;
#line 80 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp4_ = _error_;
#line 80 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_tmp5_ = _tmp4_->message;
#line 80 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_warning ("unattended-installer.vala:80: Failed to connect to D-Bus service '%s':" \
" %s", "org.freedesktop.Accounts", _tmp5_);
#line 75 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			_g_error_free0 (_error_);
#line 7139 "unattended-installer.c"
		}
		__finally85:
#line 75 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 75 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 75 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
			g_clear_error (&_inner_error_);
#line 7148 "unattended-installer.c"
		}
	}
#line 71 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	return obj;
#line 7153 "unattended-installer.c"
}


static void boxes_unattended_installer_class_init (BoxesUnattendedInstallerClass * klass) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	boxes_unattended_installer_parent_class = g_type_class_peek_parent (klass);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_type_class_add_private (klass, sizeof (BoxesUnattendedInstallerPrivate));
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->prepare_to_continue_installation = boxes_unattended_installer_real_prepare_to_continue_installation;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->prepare_for_installation = boxes_unattended_installer_real_prepare_for_installation;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->prepare_for_installation_finish = boxes_unattended_installer_real_prepare_for_installation_finish;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->setup_domain_config = boxes_unattended_installer_real_setup_domain_config;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->setup_post_install_domain_config = boxes_unattended_installer_real_setup_post_install_domain_config;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->populate_setup_box = boxes_unattended_installer_real_populate_setup_box;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->get_vm_properties = boxes_unattended_installer_real_get_vm_properties;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->set_direct_boot_params = boxes_unattended_installer_real_set_direct_boot_params;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->clean_up = boxes_unattended_installer_real_clean_up;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->clean_up_preparation_cache = boxes_unattended_installer_real_clean_up_preparation_cache;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->prepare = boxes_unattended_installer_real_prepare;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	((BoxesInstallerMediaClass *) klass)->prepare_finish = boxes_unattended_installer_real_prepare_finish;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	BOXES_INSTALLER_MEDIA_CLASS (klass)->get_need_user_input_for_vm_creation = boxes_unattended_installer_real_get_need_user_input_for_vm_creation;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	BOXES_INSTALLER_MEDIA_CLASS (klass)->get_ready_to_create = boxes_unattended_installer_real_get_ready_to_create;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	BOXES_INSTALLER_MEDIA_CLASS (klass)->get_supported_devices = boxes_unattended_installer_real_get_supported_devices;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_boxes_unattended_installer_get_property;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	G_OBJECT_CLASS (klass)->constructor = boxes_unattended_installer_constructor;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	G_OBJECT_CLASS (klass)->finalize = boxes_unattended_installer_finalize;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), BOXES_UNATTENDED_INSTALLER_NEED_USER_INPUT_FOR_VM_CREATION, g_param_spec_boolean ("need-user-input-for-vm-creation", "need-user-input-for-vm-creation", "need-user-input-for-vm-creation", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), BOXES_UNATTENDED_INSTALLER_READY_TO_CREATE, g_param_spec_boolean ("ready-to-create", "ready-to-create", "ready-to-create", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), BOXES_UNATTENDED_INSTALLER_SUPPORTED_DEVICES, g_param_spec_object ("supported-devices", "supported-devices", "supported-devices", osinfo_devicelist_get_type (), G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 7204 "unattended-installer.c"
}


static void boxes_unattended_installer_instance_init (BoxesUnattendedInstaller * self) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv = BOXES_UNATTENDED_INSTALLER_GET_PRIVATE (self);
#line 47 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self->priv->driver_signing = TRUE;
#line 7213 "unattended-installer.c"
}


static void boxes_unattended_installer_finalize (GObject * obj) {
	BoxesUnattendedInstaller * self;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, BOXES_TYPE_UNATTENDED_INSTALLER, BoxesUnattendedInstaller);
#line 30 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->setup_box);
#line 32 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->disk_file);
#line 33 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->secondary_disk_file);
#line 34 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->kernel_file);
#line 35 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->initrd_file);
#line 36 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->config);
#line 37 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->scripts);
#line 39 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (self->priv->unattended_files);
#line 40 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	__g_list_free__g_object_unref0_0 (self->priv->secondary_unattended_files);
#line 41 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->priv->avatar_file);
#line 43 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->timezone);
#line 44 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->lang);
#line 45 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->hostname);
#line 46 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_free0 (self->priv->kbd);
#line 50 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	_g_object_unref0 (self->priv->additional_devices);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	G_OBJECT_CLASS (boxes_unattended_installer_parent_class)->finalize (obj);
#line 7253 "unattended-installer.c"
}


GType boxes_unattended_installer_get_type (void) {
	static volatile gsize boxes_unattended_installer_type_id__volatile = 0;
	if (g_once_init_enter (&boxes_unattended_installer_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (BoxesUnattendedInstallerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) boxes_unattended_installer_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (BoxesUnattendedInstaller), 0, (GInstanceInitFunc) boxes_unattended_installer_instance_init, NULL };
		GType boxes_unattended_installer_type_id;
		boxes_unattended_installer_type_id = g_type_register_static (BOXES_TYPE_INSTALLER_MEDIA, "BoxesUnattendedInstaller", &g_define_type_info, 0);
		g_once_init_leave (&boxes_unattended_installer_type_id__volatile, boxes_unattended_installer_type_id);
	}
	return boxes_unattended_installer_type_id__volatile;
}


static void _vala_boxes_unattended_installer_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	BoxesUnattendedInstaller * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, BOXES_TYPE_UNATTENDED_INSTALLER, BoxesUnattendedInstaller);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
	switch (property_id) {
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case BOXES_UNATTENDED_INSTALLER_NEED_USER_INPUT_FOR_VM_CREATION:
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_value_set_boolean (value, boxes_installer_media_get_need_user_input_for_vm_creation ((BoxesInstallerMedia*) self));
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		break;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case BOXES_UNATTENDED_INSTALLER_READY_TO_CREATE:
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_value_set_boolean (value, boxes_installer_media_get_ready_to_create ((BoxesInstallerMedia*) self));
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		break;
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		case BOXES_UNATTENDED_INSTALLER_SUPPORTED_DEVICES:
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		g_value_take_object (value, boxes_installer_media_get_supported_devices ((BoxesInstallerMedia*) self));
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		break;
#line 7292 "unattended-installer.c"
		default:
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 6 "/home/fborges/checkout/gnome-boxes/src/unattended-installer.vala"
		break;
#line 7298 "unattended-installer.c"
	}
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 7306 "unattended-installer.c"
		int i;
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
				destroy_func (((gpointer*) array)[i]);
#line 7314 "unattended-installer.c"
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
	g_free (array);
#line 7326 "unattended-installer.c"
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
	if (array) {
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
		while (((gpointer*) array)[length]) {
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
			length++;
#line 7339 "unattended-installer.c"
		}
	}
#line 535 "/home/fborges/checkout/gnome-boxes/src/libvirt-machine.vala"
	return length;
#line 7344 "unattended-installer.c"
}



